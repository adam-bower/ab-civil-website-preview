{"ast":null,"code":"var _jsxFileName = \"/Users/adambower/Dev/new-website-adam/website/src/shared/components/forms/ServiceRequestForm/ServiceRequestForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ServiceRequestForm.css';\nimport { supabase } from '../../../lib/supabase';\nimport FileUploadWithFolders from '../../FileUpload/FileUploadWithFolders';\nimport SupabaseStorageService from '../../../services/supabaseStorageService';\nimport ConfirmationPage from '../../ConfirmationPage/ConfirmationPage';\nimport AutoResizeWrapper from '../../AutoResizeWrapper/AutoResizeWrapper';\nimport { sanitizeInput, isValidEmail, isValidPhone, generateSecureId, validateFormData, formSubmissionLimiter, maskSensitiveData } from '../../../utils/security';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ServiceRequestForm = () => {\n  _s();\n  // State management\n  const [currentStep, setCurrentStep] = useState('selection'); // 'selection', 'form', or 'confirmation'\n  const [serviceSelection, setServiceSelection] = useState({\n    serviceType: '',\n    // '3D Model' or 'Takeoff'\n    proceedWork: '' // 'Yes' or 'Quote Only'\n  });\n  const [formData, setFormData] = useState({\n    // Common fields\n    name: '',\n    email: '',\n    company: '',\n    project: '',\n    state: '',\n    phone: '',\n    // Model specific fields\n    revision: '',\n    dueDate: '',\n    fileFormats: [],\n    additionalRequests: [],\n    erosionSurfaceDueDate: '',\n    // Date for Initial Erosion Surface\n    advancedUtilities: false,\n    // Checkbox for 3D/Elevated Pipe\n    structureCount: '',\n    // Number input for advanced utilities\n\n    // Takeoff specific fields\n    cadAvailable: '',\n    scopeOptions: [],\n    // Initialize as empty array for checkboxes\n    strippingDepth: '',\n    replacementDepth: '',\n    projectInfo: '',\n    // Common optional fields\n    specialInstructions: '',\n    // File attachments - Initialize as empty array\n    fileAttachments: []\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState({\n    type: '',\n    text: ''\n  });\n  const [submissionResult, setSubmissionResult] = useState(null);\n\n  // Function to scroll to first error\n  const scrollToFirstError = errorFields => {\n    // Find the first field with an error\n    const firstErrorField = Object.keys(errorFields)[0];\n    if (!firstErrorField) return;\n\n    // Add a small delay to let the error messages render\n    setTimeout(() => {\n      // Try to find the element with the error\n      let targetElement = null;\n\n      // First try to find by ID\n      targetElement = document.getElementById(firstErrorField);\n\n      // If not found, try to find by name attribute\n      if (!targetElement) {\n        targetElement = document.querySelector(`[name=\"${firstErrorField}\"]`);\n      }\n\n      // If not found, try to find the error message itself and get its associated input\n      if (!targetElement) {\n        const errorMessages = document.querySelectorAll('.error-message');\n        for (const errorMsg of errorMessages) {\n          // Look for input/select/textarea in the same parent container\n          const container = errorMsg.closest('.input-wrapper') || errorMsg.closest('.form-row');\n          if (container) {\n            const input = container.querySelector('input, select, textarea');\n            if (input) {\n              targetElement = input;\n              break;\n            }\n          }\n        }\n      }\n\n      // If we found an element, scroll to it with proper cushion\n      if (targetElement) {\n        // Calculate position with cushion space\n        const elementRect = targetElement.getBoundingClientRect();\n        const absoluteElementTop = elementRect.top + window.pageYOffset;\n        const cushionSpace = 150; // Space from top of viewport\n        const targetScrollPosition = Math.max(0, absoluteElementTop - cushionSpace);\n\n        // Smooth scroll to position\n        window.scrollTo({\n          top: targetScrollPosition,\n          behavior: 'smooth'\n        });\n\n        // Focus the field after scrolling completes\n        setTimeout(() => {\n          if (targetElement.tagName === 'INPUT' || targetElement.tagName === 'SELECT' || targetElement.tagName === 'TEXTAREA') {\n            targetElement.focus();\n          }\n        }, 500); // Wait for smooth scroll to complete\n      }\n    }, 100); // Small delay to ensure DOM is updated\n  };\n\n  // US States list\n  const states = [{\n    value: '',\n    label: 'Select a state'\n  }, {\n    value: 'AL',\n    label: 'Alabama'\n  }, {\n    value: 'AK',\n    label: 'Alaska'\n  }, {\n    value: 'AZ',\n    label: 'Arizona'\n  }, {\n    value: 'AR',\n    label: 'Arkansas'\n  }, {\n    value: 'CA',\n    label: 'California'\n  }, {\n    value: 'CO',\n    label: 'Colorado'\n  }, {\n    value: 'CT',\n    label: 'Connecticut'\n  }, {\n    value: 'DE',\n    label: 'Delaware'\n  }, {\n    value: 'FL',\n    label: 'Florida'\n  }, {\n    value: 'GA',\n    label: 'Georgia'\n  }, {\n    value: 'HI',\n    label: 'Hawaii'\n  }, {\n    value: 'ID',\n    label: 'Idaho'\n  }, {\n    value: 'IL',\n    label: 'Illinois'\n  }, {\n    value: 'IN',\n    label: 'Indiana'\n  }, {\n    value: 'IA',\n    label: 'Iowa'\n  }, {\n    value: 'KS',\n    label: 'Kansas'\n  }, {\n    value: 'KY',\n    label: 'Kentucky'\n  }, {\n    value: 'LA',\n    label: 'Louisiana'\n  }, {\n    value: 'ME',\n    label: 'Maine'\n  }, {\n    value: 'MD',\n    label: 'Maryland'\n  }, {\n    value: 'MA',\n    label: 'Massachusetts'\n  }, {\n    value: 'MI',\n    label: 'Michigan'\n  }, {\n    value: 'MN',\n    label: 'Minnesota'\n  }, {\n    value: 'MS',\n    label: 'Mississippi'\n  }, {\n    value: 'MO',\n    label: 'Missouri'\n  }, {\n    value: 'MT',\n    label: 'Montana'\n  }, {\n    value: 'NE',\n    label: 'Nebraska'\n  }, {\n    value: 'NV',\n    label: 'Nevada'\n  }, {\n    value: 'NH',\n    label: 'New Hampshire'\n  }, {\n    value: 'NJ',\n    label: 'New Jersey'\n  }, {\n    value: 'NM',\n    label: 'New Mexico'\n  }, {\n    value: 'NY',\n    label: 'New York'\n  }, {\n    value: 'NC',\n    label: 'North Carolina'\n  }, {\n    value: 'ND',\n    label: 'North Dakota'\n  }, {\n    value: 'OH',\n    label: 'Ohio'\n  }, {\n    value: 'OK',\n    label: 'Oklahoma'\n  }, {\n    value: 'OR',\n    label: 'Oregon'\n  }, {\n    value: 'PA',\n    label: 'Pennsylvania'\n  }, {\n    value: 'RI',\n    label: 'Rhode Island'\n  }, {\n    value: 'SC',\n    label: 'South Carolina'\n  }, {\n    value: 'SD',\n    label: 'South Dakota'\n  }, {\n    value: 'TN',\n    label: 'Tennessee'\n  }, {\n    value: 'TX',\n    label: 'Texas'\n  }, {\n    value: 'UT',\n    label: 'Utah'\n  }, {\n    value: 'VT',\n    label: 'Vermont'\n  }, {\n    value: 'VA',\n    label: 'Virginia'\n  }, {\n    value: 'WA',\n    label: 'Washington'\n  }, {\n    value: 'WV',\n    label: 'West Virginia'\n  }, {\n    value: 'WI',\n    label: 'Wisconsin'\n  }, {\n    value: 'WY',\n    label: 'Wyoming'\n  }];\n\n  // Phone number formatting with +1 prefix\n  const formatPhoneNumber = value => {\n    // Remove all non-digits and the +1 prefix if it exists\n    const cleaned = value.replace(/^\\+1\\s?/, '').replace(/\\D/g, '');\n    const limited = cleaned.substring(0, 10);\n    if (limited.length === 0) return '';\n    if (limited.length <= 3) return `+1 (${limited}`;\n    if (limited.length <= 6) return `+1 (${limited.substring(0, 3)}) ${limited.substring(3)}`;\n    return `+1 (${limited.substring(0, 3)}) ${limited.substring(3, 6)}-${limited.substring(6)}`;\n  };\n\n  // Handle field changes with sanitization\n  const handleFieldChange = (field, value) => {\n    // Don't sanitize during input - only sanitize on submit\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n\n  // Handle checkbox changes\n  const handleCheckboxChange = (field, value) => {\n    setFormData(prev => {\n      const currentValues = prev[field];\n      const newValues = currentValues.includes(value) ? currentValues.filter(v => v !== value) : [...currentValues, value];\n      return {\n        ...prev,\n        [field]: newValues\n      };\n    });\n  };\n\n  // Validate selection step\n  const validateSelection = () => {\n    const newErrors = {};\n    if (!serviceSelection.serviceType) {\n      newErrors.serviceType = 'Please select a service type';\n    }\n    if (!serviceSelection.proceedWork) {\n      newErrors.proceedWork = 'Please select how to proceed';\n    }\n    setErrors(newErrors);\n    if (Object.keys(newErrors).length > 0) {\n      scrollToFirstError(newErrors);\n    }\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Validate form based on type\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Common required fields with validation\n    if (!formData.name) {\n      newErrors.name = 'Name is required';\n    } else if (formData.name.length < 2 || formData.name.length > 100) {\n      newErrors.name = 'Name must be between 2 and 100 characters';\n    }\n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else if (!isValidEmail(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    if (!formData.company) {\n      newErrors.company = 'Company name is required';\n    } else if (formData.company.length < 2 || formData.company.length > 200) {\n      newErrors.company = 'Company name must be between 2 and 200 characters';\n    }\n    if (!formData.project) {\n      newErrors.project = 'Project name is required';\n    } else if (formData.project.length < 2 || formData.project.length > 200) {\n      newErrors.project = 'Project name must be between 2 and 200 characters';\n    }\n\n    // Model-specific validation\n    if (serviceSelection.serviceType === '3D Model') {\n      if (!formData.state) newErrors.state = 'Project state is required';\n      if (!formData.revision) newErrors.revision = 'Please specify if this is a revision';\n      if (!formData.dueDate) newErrors.dueDate = 'Due date is required';\n      if (formData.fileFormats.length === 0) newErrors.fileFormats = 'Please select at least one file format';\n\n      // Validate erosion surface date if Initial Erosion Surface is selected\n      if (formData.additionalRequests.includes('Initial Erosion Surface') && !formData.erosionSurfaceDueDate) {\n        newErrors.erosionSurfaceDueDate = 'Initial Erosion Surface due date is required';\n      }\n    }\n\n    // Takeoff-specific validation (no state field needed)\n    if (serviceSelection.serviceType === 'Takeoff') {\n      var _formData$scopeOption;\n      if (!formData.dueDate) newErrors.dueDate = 'Due date is required';\n      if (!formData.cadAvailable) newErrors.cadAvailable = 'Please specify if CAD files are available';\n      if (!formData.scopeOptions || formData.scopeOptions.length === 0) {\n        newErrors.scopeOptions = 'Please select at least one scope option';\n      }\n\n      // Validate earthwork depth fields if Earthwork is selected\n      if ((_formData$scopeOption = formData.scopeOptions) !== null && _formData$scopeOption !== void 0 && _formData$scopeOption.includes('Earthwork Cut/Fill')) {\n        if (!formData.strippingDepth) newErrors.strippingDepth = 'Stripping depth is required when Earthwork Cut/Fill is selected';\n        if (!formData.replacementDepth) newErrors.replacementDepth = 'Replacement depth is required when Earthwork Cut/Fill is selected';\n      }\n    }\n    setErrors(newErrors);\n    console.log('Validation errors:', newErrors);\n    if (Object.keys(newErrors).length > 0) {\n      scrollToFirstError(newErrors);\n    }\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Handle selection submission\n  const handleSelectionSubmit = e => {\n    e.preventDefault();\n    if (validateSelection()) {\n      setCurrentStep('form');\n      setErrors({});\n    }\n  };\n\n  // Handle form submission to Supabase with security checks\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n\n    // Check rate limiting\n    const rateLimitCheck = formSubmissionLimiter.check(formData.email || 'anonymous');\n    if (!rateLimitCheck.allowed) {\n      setSubmitMessage({\n        type: 'error',\n        text: rateLimitCheck.message\n      });\n      return;\n    }\n\n    // Log with masked sensitive data\n    console.log('Form submission triggered');\n    console.log('Current formData:', maskSensitiveData(formData));\n    console.log('Service selection:', serviceSelection);\n    if (!validateForm()) {\n      console.log('Validation failed. Errors:', errors);\n      return;\n    }\n\n    // Additional security validation\n    const securityCheck = validateFormData(formData);\n    if (!securityCheck.isValid) {\n      setErrors(securityCheck.errors);\n      setSubmitMessage({\n        type: 'error',\n        text: 'Invalid input detected. Please check your entries.'\n      });\n      return;\n    }\n    setIsSubmitting(true);\n    setSubmitMessage({\n      type: '',\n      text: ''\n    });\n    try {\n      var _formData$fileAttachm;\n      // Helper to strip +1 from phone numbers for database storage\n      const stripPhonePrefix = phone => {\n        if (!phone) return phone;\n        return phone.replace(/^\\+1\\s?/, '');\n      };\n\n      // Determine which table to use based on selection\n      let tableName = '';\n      if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Yes') {\n        tableName = 'model_requests';\n      } else if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Quote Only') {\n        tableName = 'model_quotes';\n      } else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Yes') {\n        tableName = 'takeoff_requests';\n      } else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Quote Only') {\n        tableName = 'takeoff_quotes';\n      }\n\n      // Prepare submission data based on form type\n      let submissionData = {};\n\n      // Add model-specific fields for model_requests table\n      if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Yes') {\n        submissionData = {\n          name: sanitizeInput(formData.name),\n          email: sanitizeInput(formData.email),\n          company_name: sanitizeInput(formData.company),\n          project_name: sanitizeInput(formData.project),\n          state: formData.state,\n          is_revision: formData.revision === 'Yes' ? true : false,\n          finish_grade_due_date: formData.dueDate,\n          file_formats: formData.fileFormats,\n          // JSONB - send as array\n          additional_requests: formData.additionalRequests.length > 0 ? formData.additionalRequests : null,\n          // JSONB\n          advanced_utility: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities === true,\n          // Only true if 3D/Elevated Pipe is selected AND Advanced Utilities is checked\n          structure_count: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities && formData.structureCount ? parseInt(formData.structureCount) : null,\n          erosion_surface_due_date: formData.additionalRequests.includes('Initial Erosion Surface') && formData.erosionSurfaceDueDate ? formData.erosionSurfaceDueDate : null,\n          project_info: formData.specialInstructions || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })()\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n      // Add fields for model_quotes table\n      else if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Quote Only') {\n        submissionData = {\n          name: formData.name,\n          email: formData.email,\n          company_name: formData.company,\n          project_name: formData.project,\n          state: formData.state,\n          is_revision: formData.revision === 'Yes' ? true : false,\n          quote_due_date: formData.dueDate,\n          // Note: different field name than model_requests\n          file_formats: formData.fileFormats.length > 0 ? formData.fileFormats : null,\n          // text[] array\n          additional_requests: formData.additionalRequests.length > 0 ? formData.additionalRequests : null,\n          // text[] array\n          advanced_utility: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities === true,\n          // Only true if 3D/Elevated Pipe is selected AND Advanced Utilities is checked\n          structure_count: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities && formData.structureCount ? parseInt(formData.structureCount) : null,\n          erosion_surface_due_date: formData.additionalRequests.includes('Initial Erosion Surface') && formData.erosionSurfaceDueDate ? formData.erosionSurfaceDueDate : null,\n          project_info: formData.specialInstructions || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })(),\n          // These fields will be null for new submissions\n          price: null,\n          quote_status: null,\n          notes_from_ab_civil: null,\n          date_quoted: null,\n          quote_status_change_date: null,\n          client_name: null,\n          client_id: null,\n          // Airtable fields null for web submissions\n          airtable_record_id: null,\n          airtable_client_record_id: null,\n          airtable_contact_record_id: null,\n          airtable_created_date: null,\n          last_modified_date: null\n        };\n      }\n\n      // Add takeoff_requests table fields\n      else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Yes') {\n        submissionData = {\n          name: formData.name,\n          email: formData.email,\n          phone: null,\n          company_name: formData.company,\n          project_name: formData.project,\n          due_date: formData.dueDate,\n          cad_available: formData.cadAvailable === 'Yes',\n          scope_options: formData.scopeOptions,\n          // JSONB array\n          stripping_depth: formData.strippingDepth || null,\n          replacement_depth: formData.replacementDepth || null,\n          project_info: formData.projectInfo || null,\n          takeoff_status: null,\n          // Explicitly set to null to avoid database default\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })()\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n      // Add takeoff_quotes table fields (same structure as takeoff_requests)\n      else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Quote Only') {\n        submissionData = {\n          name: sanitizeInput(formData.name),\n          email: sanitizeInput(formData.email),\n          phone: null,\n          company_name: sanitizeInput(formData.company),\n          project_name: sanitizeInput(formData.project),\n          due_date: formData.dueDate,\n          cad_available: formData.cadAvailable === 'Yes',\n          scope_options: formData.scopeOptions,\n          // JSONB array\n          stripping_depth: formData.strippingDepth || null,\n          replacement_depth: formData.replacementDepth || null,\n          project_info: formData.projectInfo || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })()\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n\n      // Insert into the appropriate table\n\n      const {\n        data,\n        error\n      } = await supabase.from(tableName).insert([submissionData]).select();\n      if (error) {\n        console.error('Supabase error details:', {\n          message: error.message,\n          details: error.details,\n          hint: error.hint,\n          code: error.code\n        });\n        throw error;\n      }\n      console.log('Submission successful:', data);\n\n      // Files are already uploaded, collect metadata for confirmation display\n      // Updated filter to be more inclusive - check for uploadComplete or has url\n      const uploadedFiles = ((_formData$fileAttachm = formData.fileAttachments) === null || _formData$fileAttachm === void 0 ? void 0 : _formData$fileAttachm.filter(file => file.uploadComplete === true || file.url && !file.isLocal)) || [];\n      console.log('Files successfully included in submission:', uploadedFiles.length);\n      console.log('[ServiceRequestForm] Filtered uploadedFiles details:', uploadedFiles);\n\n      // Success! Store submission data and show confirmation page\n      // Use secure random ID instead of timestamp\n      const referenceNumber = `SR-${generateSecureId(8)}`;\n\n      // Debug logging for production\n      console.log('[ServiceRequestForm] Setting submissionResult with uploadedFiles:', {\n        hasUploadedFiles: !!uploadedFiles,\n        uploadedFilesLength: uploadedFiles ? uploadedFiles.length : 0,\n        uploadedFiles: uploadedFiles\n      });\n      setSubmissionResult({\n        referenceNumber,\n        serviceType: serviceSelection.serviceType,\n        proceedWork: serviceSelection.proceedWork,\n        submittedData: {\n          ...formData,\n          serviceType: serviceSelection.serviceType,\n          proceedWork: serviceSelection.proceedWork\n        },\n        uploadedFiles: uploadedFiles\n      });\n      setCurrentStep('confirmation');\n    } catch (error) {\n      console.error('Submission error:', error);\n      console.error('Error details:', error.message);\n      setSubmitMessage({\n        type: 'error',\n        text: `Error: ${error.message || 'There was an error submitting your request. Please try again.'}`\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Handle new submission from confirmation page\n  const handleNewSubmission = () => {\n    resetForm();\n    setSubmissionResult(null);\n  };\n\n  // Reset form\n  const resetForm = () => {\n    setCurrentStep('selection');\n    setServiceSelection({\n      serviceType: '',\n      proceedWork: ''\n    });\n    setFormData({\n      name: '',\n      email: '',\n      company: '',\n      project: '',\n      state: '',\n      phone: '',\n      revision: '',\n      dueDate: '',\n      fileFormats: [],\n      additionalRequests: [],\n      erosionSurfaceDueDate: '',\n      advancedUtilities: false,\n      structureCount: '',\n      cadAvailable: '',\n      scopeOptions: [],\n      strippingDepth: '',\n      replacementDepth: '',\n      projectInfo: '',\n      specialInstructions: '',\n      fileAttachments: []\n    });\n    setErrors({});\n    setSubmitMessage({\n      type: '',\n      text: ''\n    });\n  };\n\n  // Handle back navigation\n  const handleBack = () => {\n    setCurrentStep('selection');\n    setErrors({});\n  };\n\n  // Render selection step\n  const renderSelectionStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"selection-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSelectionSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question\",\n          children: [\"Do you need a Model or a Takeoff? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 69\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radio-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"model\",\n              name: \"serviceType\",\n              value: \"3D Model\",\n              checked: serviceSelection.serviceType === '3D Model',\n              onChange: e => setServiceSelection(prev => ({\n                ...prev,\n                serviceType: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"model\",\n              children: \"3D Model\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 637,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"takeoff\",\n              name: \"serviceType\",\n              value: \"Takeoff\",\n              checked: serviceSelection.serviceType === 'Takeoff',\n              onChange: e => setServiceSelection(prev => ({\n                ...prev,\n                serviceType: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"takeoff\",\n              children: \"Takeoff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 11\n        }, this), errors.serviceType && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-message\",\n          children: errors.serviceType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question\",\n          children: [\"Proceed with the work? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radio-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"yes\",\n              name: \"proceedWork\",\n              value: \"Yes\",\n              checked: serviceSelection.proceedWork === 'Yes',\n              onChange: e => setServiceSelection(prev => ({\n                ...prev,\n                proceedWork: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"yes\",\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radio-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"quoteOnly\",\n              name: \"proceedWork\",\n              value: \"Quote Only\",\n              checked: serviceSelection.proceedWork === 'Quote Only',\n              onChange: e => setServiceSelection(prev => ({\n                ...prev,\n                proceedWork: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"quoteOnly\",\n              children: \"Quote Only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), errors.proceedWork && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"error-message\",\n          children: errors.proceedWork\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 632,\n    columnNumber: 5\n  }, this);\n\n  // Render Model Request Form\n  const renderModelForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleFormSubmit,\n    className: \"service-form condensed-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: [\"3D Model \", serviceSelection.proceedWork === 'Quote Only' ? 'Quote' : 'Request']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }, this), submitMessage.text && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `submit-message ${submitMessage.type}`,\n      children: submitMessage.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            placeholder: \"First and Last\",\n            value: formData.name,\n            onChange: e => handleFieldChange('name', e.target.value),\n            className: errors.name ? 'error-highlight' : '',\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 13\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [\"Email \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            placeholder: \"your@email.com\",\n            value: formData.email,\n            onChange: e => handleFieldChange('email', e.target.value),\n            className: errors.email ? 'error-highlight' : '',\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"company\",\n          children: [\"Company Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"company\",\n            placeholder: \"Your Company\",\n            value: formData.company,\n            onChange: e => handleFieldChange('company', e.target.value),\n            className: errors.company ? 'error-highlight' : '',\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 13\n          }, this), errors.company && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.company\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 756,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"project\",\n          children: [\"Project Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"project\",\n            placeholder: \"Project Name\",\n            value: formData.project,\n            onChange: e => handleFieldChange('project', e.target.value),\n            className: errors.project ? 'error-highlight' : '',\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 13\n          }, this), errors.project && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.project\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"state\",\n          children: [\"Project State \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"state\",\n            value: formData.state,\n            onChange: e => handleFieldChange('state', e.target.value),\n            className: errors.state ? 'error-highlight' : '',\n            required: true,\n            children: states.map(state => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: state.value,\n              children: state.label\n            }, state.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 13\n          }, this), errors.state && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.state\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 755,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Is this a revision to a current model? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radio-group-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"radio-item-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"revisionYes\",\n                name: \"revision\",\n                value: \"Yes\",\n                checked: formData.revision === 'Yes',\n                onChange: e => handleFieldChange('revision', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"revisionYes\",\n                children: \"Yes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 822,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"radio-item-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"revisionNo\",\n                name: \"revision\",\n                value: \"No\",\n                checked: formData.revision === 'No',\n                onChange: e => handleFieldChange('revision', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"revisionNo\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 13\n          }, this), errors.revision && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.revision\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 811,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"dueDate\",\n          children: [\"Due Date \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 841,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 841,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"dueDate\",\n            value: formData.dueDate,\n            onChange: e => handleFieldChange('dueDate', e.target.value),\n            className: errors.dueDate ? 'error-highlight' : '',\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 843,\n            columnNumber: 13\n          }, this), errors.dueDate && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.dueDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"File Formats \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"required\",\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 856,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox-group-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-item-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"trimble\",\n                checked: formData.fileFormats.includes('Trimble'),\n                onChange: () => handleCheckboxChange('fileFormats', 'Trimble')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 860,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"trimble\",\n                children: \"Trimble\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-item-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"topcon\",\n                checked: formData.fileFormats.includes('Topcon'),\n                onChange: () => handleCheckboxChange('fileFormats', 'Topcon')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"topcon\",\n                children: \"Topcon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-item-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"leica\",\n                checked: formData.fileFormats.includes('Leica'),\n                onChange: () => handleCheckboxChange('fileFormats', 'Leica')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"leica\",\n                children: \"Leica\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 13\n          }, this), errors.fileFormats && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-message\",\n            children: errors.fileFormats\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 857,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section form-section-centered\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: \"Additional Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkbox-group-horizontal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkbox-item-inline\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"erosion\",\n            checked: formData.additionalRequests.includes('Initial Erosion Surface'),\n            onChange: () => handleCheckboxChange('additionalRequests', 'Initial Erosion Surface')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"erosion\",\n            children: \"Initial Erosion Surface\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 11\n        }, this), formData.additionalRequests.includes('Initial Erosion Surface') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section conditional-section\",\n          style: {\n            marginTop: '8px',\n            marginBottom: '8px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"erosionSurfaceDueDate\",\n              children: [\"Erosion Surface Date \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"required\",\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 909,\n                columnNumber: 77\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"erosionSurfaceDueDate\",\n                value: formData.erosionSurfaceDueDate,\n                onChange: e => handleFieldChange('erosionSurfaceDueDate', e.target.value),\n                className: errors.erosionSurfaceDueDate ? 'error-highlight' : '',\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 19\n              }, this), errors.erosionSurfaceDueDate && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-message\",\n                children: errors.erosionSurfaceDueDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkbox-item-inline\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"pipe\",\n            checked: formData.additionalRequests.includes('3D/Elevated Pipe'),\n            onChange: () => handleCheckboxChange('additionalRequests', '3D/Elevated Pipe')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"pipe\",\n            children: \"3D/Elevated Pipe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 924,\n          columnNumber: 11\n        }, this), formData.additionalRequests.includes('3D/Elevated Pipe') && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            marginTop: '2px',\n            fontSize: '13px',\n            color: '#666',\n            textAlign: 'center'\n          },\n          children: \"All gravity pipe linework will be elevated by invert elevation.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 13\n        }, this), formData.additionalRequests.includes('3D/Elevated Pipe') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section conditional-section\",\n          style: {\n            marginTop: '8px',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Advanced Utilities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-item-inline advanced-utilities-checkbox\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"advancedUtilities\",\n                  checked: formData.advancedUtilities,\n                  onChange: e => handleFieldChange('advancedUtilities', e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 944,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"advancedUtilities\",\n                  style: {\n                    marginLeft: '8px',\n                    fontSize: '13px',\n                    color: '#666'\n                  },\n                  children: \"$30/structure modeled from shop drawings. Please enter total number of structures to be included.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 950,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 943,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 940,\n            columnNumber: 15\n          }, this), formData.advancedUtilities && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"structureCount\",\n              children: \"Number of Structures\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"structureCount\",\n                value: formData.structureCount,\n                onChange: e => handleFieldChange('structureCount', e.target.value),\n                placeholder: \"Enter number of structures\",\n                min: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"checkbox-item-inline\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"linework\",\n            checked: formData.additionalRequests.includes('Linework Only'),\n            onChange: () => handleCheckboxChange('additionalRequests', 'Linework Only')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"linework\",\n            children: \"Linework Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 975,\n          columnNumber: 11\n        }, this), formData.additionalRequests.includes('Linework Only') && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            marginTop: '2px',\n            fontSize: '13px',\n            color: '#dc2626',\n            fontWeight: '500',\n            textAlign: 'center'\n          },\n          children: \"Caution: No surface will be generated when this option is checked. There will be no cut/fill values.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 896,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section form-section-centered\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: \"Additional Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        id: \"specialInstructions\",\n        placeholder: \"Please provide any additional project information, specific requirements, or other requests...\",\n        value: formData.specialInstructions,\n        onChange: e => handleFieldChange('specialInstructions', e.target.value),\n        rows: \"3\",\n        style: {\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 996,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-section form-section-centered file-upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: \"Upload Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FileUploadWithFolders, {\n        files: formData.fileAttachments || [],\n        onFilesChange: files => handleFieldChange('fileAttachments', files),\n        disabled: isSubmitting,\n        maxFiles: 100,\n        formType: serviceSelection.serviceType === '3D Model' ? serviceSelection.proceedWork === 'Quote Only' ? '3d-quote' : '3d-request' : serviceSelection.proceedWork === 'Quote Only' ? 'takeoff-quote' : 'takeoff-request',\n        companyName: formData.company || 'Unknown Company',\n        projectName: formData.project || 'Unknown Project'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1007,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: handleBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1024,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: isSubmitting,\n        children: isSubmitting ? 'Submitting...' : 'Submit Request'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1027,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1023,\n      columnNumber: 7\n    }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '10px',\n        color: '#dc3545',\n        fontSize: '14px'\n      },\n      children: \"Please fill out required areas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1032,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 705,\n    columnNumber: 5\n  }, this);\n\n  // Render Takeoff Request Form\n  const renderTakeoffForm = () => {\n    var _formData$scopeOption2, _formData$scopeOption3, _formData$scopeOption4, _formData$scopeOption5, _formData$scopeOption6;\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      className: \"service-form condensed-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"form-title\",\n          children: [\"Takeoff \", serviceSelection.proceedWork === 'Quote Only' ? 'Quote' : 'Request']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1043,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1042,\n        columnNumber: 7\n      }, this), submitMessage.text && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `submit-message ${submitMessage.type}`,\n        children: submitMessage.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: [\"Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              placeholder: \"First and Last\",\n              value: formData.name,\n              onChange: e => handleFieldChange('name', e.target.value),\n              className: errors.name ? 'error-highlight' : '',\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1059,\n              columnNumber: 13\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1068,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1058,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1056,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: [\"Email \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1074,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1074,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              placeholder: \"your@email.com\",\n              value: formData.email,\n              onChange: e => handleFieldChange('email', e.target.value),\n              className: errors.email ? 'error-highlight' : '',\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1076,\n              columnNumber: 13\n            }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1085,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1075,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1073,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"company\",\n            children: [\"Company Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1090,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"company\",\n              placeholder: \"Your Company\",\n              value: formData.company,\n              onChange: e => handleFieldChange('company', e.target.value),\n              className: errors.company ? 'error-highlight' : '',\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1092,\n              columnNumber: 13\n            }, this), errors.company && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.company\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1089,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1055,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"project\",\n            children: [\"Project Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1109,\n              columnNumber: 49\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"project\",\n              placeholder: \"Project Name\",\n              value: formData.project,\n              onChange: e => handleFieldChange('project', e.target.value),\n              className: errors.project ? 'error-highlight' : '',\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 13\n            }, this), errors.project && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.project\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"dueDate\",\n            children: [\"Due Date \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"dueDate\",\n              value: formData.dueDate,\n              onChange: e => handleFieldChange('dueDate', e.target.value),\n              className: errors.dueDate ? 'error-highlight' : '',\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 13\n            }, this), errors.dueDate && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.dueDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1135,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1126,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"CAD Files Available? \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1140,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"radio-group-inline\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"radio-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"cadYes\",\n                  name: \"cadAvailable\",\n                  value: \"Yes\",\n                  checked: formData.cadAvailable === 'Yes',\n                  onChange: e => handleFieldChange('cadAvailable', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1144,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"cadYes\",\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1152,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1143,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"radio-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"cadNo\",\n                  name: \"cadAvailable\",\n                  value: \"No\",\n                  checked: formData.cadAvailable === 'No',\n                  onChange: e => handleFieldChange('cadAvailable', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1155,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"cadNo\",\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1163,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1154,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 13\n            }, this), errors.cadAvailable && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.cadAvailable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1141,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1139,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1107,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Scope Options \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-group-inline\",\n              style: {\n                flexDirection: 'column',\n                gap: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"earthworkCutFill\",\n                  checked: (_formData$scopeOption2 = formData.scopeOptions) === null || _formData$scopeOption2 === void 0 ? void 0 : _formData$scopeOption2.includes('Earthwork Cut/Fill'),\n                  onChange: () => handleCheckboxChange('scopeOptions', 'Earthwork Cut/Fill')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1178,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"earthworkCutFill\",\n                  children: \"Earthwork Cut/Fill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1184,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1177,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"utilities\",\n                  checked: (_formData$scopeOption3 = formData.scopeOptions) === null || _formData$scopeOption3 === void 0 ? void 0 : _formData$scopeOption3.includes('Utilities (length/count and trench excavation)'),\n                  onChange: () => handleCheckboxChange('scopeOptions', 'Utilities (length/count and trench excavation)')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1187,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"utilities\",\n                  children: \"Utilities (length/count and trench excavation)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1193,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1186,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"subgrade\",\n                  checked: (_formData$scopeOption4 = formData.scopeOptions) === null || _formData$scopeOption4 === void 0 ? void 0 : _formData$scopeOption4.includes('Subgrade Materials (stone, curb, asphalt, concrete, ect.)'),\n                  onChange: () => handleCheckboxChange('scopeOptions', 'Subgrade Materials (stone, curb, asphalt, concrete, ect.)')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1196,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"subgrade\",\n                  children: \"Subgrade Materials (stone, curb, asphalt, concrete, ect.)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1202,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1195,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-item-inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: \"erosion\",\n                  checked: (_formData$scopeOption5 = formData.scopeOptions) === null || _formData$scopeOption5 === void 0 ? void 0 : _formData$scopeOption5.includes('Erosion Control (silt fence, matting, safety fence, baffles, ect.)'),\n                  onChange: () => handleCheckboxChange('scopeOptions', 'Erosion Control (silt fence, matting, safety fence, baffles, ect.)')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1205,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"erosion\",\n                  children: \"Erosion Control (silt fence, matting, safety fence, baffles, ect.)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1204,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1176,\n              columnNumber: 13\n            }, this), errors.scopeOptions && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.scopeOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1173,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 7\n      }, this), ((_formData$scopeOption6 = formData.scopeOptions) === null || _formData$scopeOption6 === void 0 ? void 0 : _formData$scopeOption6.includes('Earthwork Cut/Fill')) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section conditional-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"strippingDepth\",\n            style: {\n              fontSize: '13px'\n            },\n            children: [\"Stripping Depth \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1223,\n              columnNumber: 90\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"strippingDepth\",\n              placeholder: \"e.g., 6 inches, 0.5 feet\",\n              value: formData.strippingDepth || '',\n              onChange: e => handleFieldChange('strippingDepth', e.target.value),\n              className: errors.strippingDepth ? 'error-highlight' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 15\n            }, this), errors.strippingDepth && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.strippingDepth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"replacementDepth\",\n            style: {\n              fontSize: '13px'\n            },\n            children: [\"Replacement Depth \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"required\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1238,\n              columnNumber: 94\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"replacementDepth\",\n              placeholder: \"e.g., 6 inches, 0.5 feet\",\n              value: formData.replacementDepth || '',\n              onChange: e => handleFieldChange('replacementDepth', e.target.value),\n              className: errors.replacementDepth ? 'error-highlight' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1240,\n              columnNumber: 15\n            }, this), errors.replacementDepth && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.replacementDepth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section form-section-centered\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: \"Additional Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1256,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"projectInfo\",\n          placeholder: \"Please provide any additional project information, specific requirements, or scope details...\",\n          value: formData.projectInfo || '',\n          onChange: e => handleFieldChange('projectInfo', e.target.value),\n          rows: \"3\",\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1257,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-section form-section-centered file-upload-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: \"Upload Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FileUploadWithFolders, {\n          files: formData.fileAttachments || [],\n          onFilesChange: files => handleFieldChange('fileAttachments', files),\n          disabled: isSubmitting,\n          maxFiles: 100,\n          formType: serviceSelection.serviceType === '3D Model' ? serviceSelection.proceedWork === 'Quote Only' ? '3d-quote' : '3d-request' : serviceSelection.proceedWork === 'Quote Only' ? 'takeoff-quote' : 'takeoff-request',\n          companyName: formData.company || 'Unknown Company',\n          projectName: formData.project || 'Unknown Project'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1270,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1268,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary\",\n          onClick: handleBack,\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1285,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          disabled: isSubmitting,\n          children: isSubmitting ? 'Submitting...' : 'Submit Request'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1288,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 7\n      }, this), Object.keys(errors).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '10px',\n          color: '#dc3545',\n          fontSize: '14px'\n        },\n        children: \"Please fill out required areas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1041,\n      columnNumber: 5\n    }, this);\n  };\n\n  // Render confirmation page\n  const renderConfirmation = () => {\n    if (!submissionResult) return null;\n    const title = submissionResult.proceedWork === 'Quote Only' ? 'Quote Request Received!' : 'Service Request Submitted!';\n    const message = `Thank you for submitting your ${submissionResult.serviceType} ${submissionResult.proceedWork === 'Quote Only' ? 'quote request' : 'service request'}. We will contact you soon.`;\n    return /*#__PURE__*/_jsxDEV(ConfirmationPage, {\n      title: title,\n      message: message,\n      referenceNumber: submissionResult.referenceNumber,\n      submissionData: submissionResult.submittedData,\n      uploadedFiles: submissionResult.uploadedFiles,\n      showDetails: true,\n      onNewSubmission: handleNewSubmission\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Main render\n  return /*#__PURE__*/_jsxDEV(AutoResizeWrapper, {\n    padding: 40,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-request-container\",\n      children: [currentStep === 'selection' && renderSelectionStep(), currentStep === 'form' && serviceSelection.serviceType === '3D Model' && renderModelForm(), currentStep === 'form' && serviceSelection.serviceType === 'Takeoff' && renderTakeoffForm(), currentStep === 'confirmation' && renderConfirmation()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1326,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1325,\n    columnNumber: 5\n  }, this);\n};\n_s(ServiceRequestForm, \"8pcRKRYGv4HmPtgjLBpQ5kSKcqo=\");\n_c = ServiceRequestForm;\nexport default ServiceRequestForm;\nvar _c;\n$RefreshReg$(_c, \"ServiceRequestForm\");","map":{"version":3,"names":["React","useState","supabase","FileUploadWithFolders","SupabaseStorageService","ConfirmationPage","AutoResizeWrapper","sanitizeInput","isValidEmail","isValidPhone","generateSecureId","validateFormData","formSubmissionLimiter","maskSensitiveData","jsxDEV","_jsxDEV","ServiceRequestForm","_s","currentStep","setCurrentStep","serviceSelection","setServiceSelection","serviceType","proceedWork","formData","setFormData","name","email","company","project","state","phone","revision","dueDate","fileFormats","additionalRequests","erosionSurfaceDueDate","advancedUtilities","structureCount","cadAvailable","scopeOptions","strippingDepth","replacementDepth","projectInfo","specialInstructions","fileAttachments","errors","setErrors","isSubmitting","setIsSubmitting","submitMessage","setSubmitMessage","type","text","submissionResult","setSubmissionResult","scrollToFirstError","errorFields","firstErrorField","Object","keys","setTimeout","targetElement","document","getElementById","querySelector","errorMessages","querySelectorAll","errorMsg","container","closest","input","elementRect","getBoundingClientRect","absoluteElementTop","top","window","pageYOffset","cushionSpace","targetScrollPosition","Math","max","scrollTo","behavior","tagName","focus","states","value","label","formatPhoneNumber","cleaned","replace","limited","substring","length","handleFieldChange","field","prev","handleCheckboxChange","currentValues","newValues","includes","filter","v","validateSelection","newErrors","validateForm","_formData$scopeOption","console","log","handleSelectionSubmit","e","preventDefault","handleFormSubmit","rateLimitCheck","check","allowed","message","securityCheck","isValid","_formData$fileAttachm","stripPhonePrefix","tableName","submissionData","company_name","project_name","is_revision","finish_grade_due_date","file_formats","additional_requests","advanced_utility","structure_count","parseInt","erosion_surface_due_date","project_info","file_attachments","uploadedFiles","f","url","map","filename","size","path","split","slice","join","quote_due_date","price","quote_status","notes_from_ab_civil","date_quoted","quote_status_change_date","client_name","client_id","airtable_record_id","airtable_client_record_id","airtable_contact_record_id","airtable_created_date","last_modified_date","due_date","cad_available","scope_options","stripping_depth","replacement_depth","takeoff_status","data","error","from","insert","select","details","hint","code","file","uploadComplete","isLocal","referenceNumber","hasUploadedFiles","uploadedFilesLength","submittedData","handleNewSubmission","resetForm","handleBack","renderSelectionStep","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","id","checked","onChange","target","htmlFor","renderModelForm","placeholder","required","style","marginTop","marginBottom","width","fontSize","color","textAlign","marginLeft","min","fontWeight","rows","files","onFilesChange","disabled","maxFiles","formType","companyName","projectName","onClick","renderTakeoffForm","_formData$scopeOption2","_formData$scopeOption3","_formData$scopeOption4","_formData$scopeOption5","_formData$scopeOption6","flexDirection","gap","renderConfirmation","title","showDetails","onNewSubmission","padding","_c","$RefreshReg$"],"sources":["/Users/adambower/Dev/new-website-adam/website/src/shared/components/forms/ServiceRequestForm/ServiceRequestForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './ServiceRequestForm.css';\nimport { supabase } from '../../../lib/supabase';\nimport FileUploadWithFolders from '../../FileUpload/FileUploadWithFolders';\nimport SupabaseStorageService from '../../../services/supabaseStorageService';\nimport ConfirmationPage from '../../ConfirmationPage/ConfirmationPage';\nimport AutoResizeWrapper from '../../AutoResizeWrapper/AutoResizeWrapper';\nimport { \n  sanitizeInput, \n  isValidEmail, \n  isValidPhone, \n  generateSecureId,\n  validateFormData,\n  formSubmissionLimiter,\n  maskSensitiveData \n} from '../../../utils/security';\n\nconst ServiceRequestForm = () => {\n  // State management\n  const [currentStep, setCurrentStep] = useState('selection'); // 'selection', 'form', or 'confirmation'\n  const [serviceSelection, setServiceSelection] = useState({\n    serviceType: '', // '3D Model' or 'Takeoff'\n    proceedWork: ''   // 'Yes' or 'Quote Only'\n  });\n  \n  const [formData, setFormData] = useState({\n    // Common fields\n    name: '',\n    email: '',\n    company: '',\n    project: '',\n    state: '',\n    phone: '',\n    \n    // Model specific fields\n    revision: '',\n    dueDate: '',\n    fileFormats: [],\n    additionalRequests: [],\n    erosionSurfaceDueDate: '', // Date for Initial Erosion Surface\n    advancedUtilities: false,   // Checkbox for 3D/Elevated Pipe\n    structureCount: '',         // Number input for advanced utilities\n    \n    // Takeoff specific fields\n    cadAvailable: '',\n    scopeOptions: [],  // Initialize as empty array for checkboxes\n    strippingDepth: '',\n    replacementDepth: '',\n    projectInfo: '',\n    \n    // Common optional fields\n    specialInstructions: '',\n    \n    // File attachments - Initialize as empty array\n    fileAttachments: []\n  });\n\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submitMessage, setSubmitMessage] = useState({ type: '', text: '' });\n  const [submissionResult, setSubmissionResult] = useState(null);\n\n  // Function to scroll to first error\n  const scrollToFirstError = (errorFields) => {\n    // Find the first field with an error\n    const firstErrorField = Object.keys(errorFields)[0];\n    if (!firstErrorField) return;\n\n    // Add a small delay to let the error messages render\n    setTimeout(() => {\n      // Try to find the element with the error\n      let targetElement = null;\n      \n      // First try to find by ID\n      targetElement = document.getElementById(firstErrorField);\n      \n      // If not found, try to find by name attribute\n      if (!targetElement) {\n        targetElement = document.querySelector(`[name=\"${firstErrorField}\"]`);\n      }\n      \n      // If not found, try to find the error message itself and get its associated input\n      if (!targetElement) {\n        const errorMessages = document.querySelectorAll('.error-message');\n        for (const errorMsg of errorMessages) {\n          // Look for input/select/textarea in the same parent container\n          const container = errorMsg.closest('.input-wrapper') || errorMsg.closest('.form-row');\n          if (container) {\n            const input = container.querySelector('input, select, textarea');\n            if (input) {\n              targetElement = input;\n              break;\n            }\n          }\n        }\n      }\n      \n      // If we found an element, scroll to it with proper cushion\n      if (targetElement) {\n        // Calculate position with cushion space\n        const elementRect = targetElement.getBoundingClientRect();\n        const absoluteElementTop = elementRect.top + window.pageYOffset;\n        const cushionSpace = 150; // Space from top of viewport\n        const targetScrollPosition = Math.max(0, absoluteElementTop - cushionSpace);\n        \n        // Smooth scroll to position\n        window.scrollTo({\n          top: targetScrollPosition,\n          behavior: 'smooth'\n        });\n        \n        // Focus the field after scrolling completes\n        setTimeout(() => {\n          if (targetElement.tagName === 'INPUT' || targetElement.tagName === 'SELECT' || targetElement.tagName === 'TEXTAREA') {\n            targetElement.focus();\n          }\n        }, 500); // Wait for smooth scroll to complete\n      }\n    }, 100); // Small delay to ensure DOM is updated\n  };\n\n  // US States list\n  const states = [\n    { value: '', label: 'Select a state' },\n    { value: 'AL', label: 'Alabama' },\n    { value: 'AK', label: 'Alaska' },\n    { value: 'AZ', label: 'Arizona' },\n    { value: 'AR', label: 'Arkansas' },\n    { value: 'CA', label: 'California' },\n    { value: 'CO', label: 'Colorado' },\n    { value: 'CT', label: 'Connecticut' },\n    { value: 'DE', label: 'Delaware' },\n    { value: 'FL', label: 'Florida' },\n    { value: 'GA', label: 'Georgia' },\n    { value: 'HI', label: 'Hawaii' },\n    { value: 'ID', label: 'Idaho' },\n    { value: 'IL', label: 'Illinois' },\n    { value: 'IN', label: 'Indiana' },\n    { value: 'IA', label: 'Iowa' },\n    { value: 'KS', label: 'Kansas' },\n    { value: 'KY', label: 'Kentucky' },\n    { value: 'LA', label: 'Louisiana' },\n    { value: 'ME', label: 'Maine' },\n    { value: 'MD', label: 'Maryland' },\n    { value: 'MA', label: 'Massachusetts' },\n    { value: 'MI', label: 'Michigan' },\n    { value: 'MN', label: 'Minnesota' },\n    { value: 'MS', label: 'Mississippi' },\n    { value: 'MO', label: 'Missouri' },\n    { value: 'MT', label: 'Montana' },\n    { value: 'NE', label: 'Nebraska' },\n    { value: 'NV', label: 'Nevada' },\n    { value: 'NH', label: 'New Hampshire' },\n    { value: 'NJ', label: 'New Jersey' },\n    { value: 'NM', label: 'New Mexico' },\n    { value: 'NY', label: 'New York' },\n    { value: 'NC', label: 'North Carolina' },\n    { value: 'ND', label: 'North Dakota' },\n    { value: 'OH', label: 'Ohio' },\n    { value: 'OK', label: 'Oklahoma' },\n    { value: 'OR', label: 'Oregon' },\n    { value: 'PA', label: 'Pennsylvania' },\n    { value: 'RI', label: 'Rhode Island' },\n    { value: 'SC', label: 'South Carolina' },\n    { value: 'SD', label: 'South Dakota' },\n    { value: 'TN', label: 'Tennessee' },\n    { value: 'TX', label: 'Texas' },\n    { value: 'UT', label: 'Utah' },\n    { value: 'VT', label: 'Vermont' },\n    { value: 'VA', label: 'Virginia' },\n    { value: 'WA', label: 'Washington' },\n    { value: 'WV', label: 'West Virginia' },\n    { value: 'WI', label: 'Wisconsin' },\n    { value: 'WY', label: 'Wyoming' }\n  ];\n\n  // Phone number formatting with +1 prefix\n  const formatPhoneNumber = (value) => {\n    // Remove all non-digits and the +1 prefix if it exists\n    const cleaned = value.replace(/^\\+1\\s?/, '').replace(/\\D/g, '');\n    const limited = cleaned.substring(0, 10);\n    \n    if (limited.length === 0) return '';\n    if (limited.length <= 3) return `+1 (${limited}`;\n    if (limited.length <= 6) return `+1 (${limited.substring(0, 3)}) ${limited.substring(3)}`;\n    return `+1 (${limited.substring(0, 3)}) ${limited.substring(3, 6)}-${limited.substring(6)}`;\n  };\n\n  // Handle field changes with sanitization\n  const handleFieldChange = (field, value) => {\n    // Don't sanitize during input - only sanitize on submit\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear error for this field\n    if (errors[field]) {\n      setErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n\n  // Handle checkbox changes\n  const handleCheckboxChange = (field, value) => {\n    setFormData(prev => {\n      const currentValues = prev[field];\n      const newValues = currentValues.includes(value)\n        ? currentValues.filter(v => v !== value)\n        : [...currentValues, value];\n      \n      return {\n        ...prev,\n        [field]: newValues\n      };\n    });\n  };\n\n  // Validate selection step\n  const validateSelection = () => {\n    const newErrors = {};\n    \n    if (!serviceSelection.serviceType) {\n      newErrors.serviceType = 'Please select a service type';\n    }\n    if (!serviceSelection.proceedWork) {\n      newErrors.proceedWork = 'Please select how to proceed';\n    }\n    \n    setErrors(newErrors);\n    if (Object.keys(newErrors).length > 0) {\n      scrollToFirstError(newErrors);\n    }\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Validate form based on type\n  const validateForm = () => {\n    const newErrors = {};\n    \n    // Common required fields with validation\n    if (!formData.name) {\n      newErrors.name = 'Name is required';\n    } else if (formData.name.length < 2 || formData.name.length > 100) {\n      newErrors.name = 'Name must be between 2 and 100 characters';\n    }\n    \n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else if (!isValidEmail(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    \n    if (!formData.company) {\n      newErrors.company = 'Company name is required';\n    } else if (formData.company.length < 2 || formData.company.length > 200) {\n      newErrors.company = 'Company name must be between 2 and 200 characters';\n    }\n    \n    if (!formData.project) {\n      newErrors.project = 'Project name is required';\n    } else if (formData.project.length < 2 || formData.project.length > 200) {\n      newErrors.project = 'Project name must be between 2 and 200 characters';\n    }\n    \n    // Model-specific validation\n    if (serviceSelection.serviceType === '3D Model') {\n      if (!formData.state) newErrors.state = 'Project state is required';\n      if (!formData.revision) newErrors.revision = 'Please specify if this is a revision';\n      if (!formData.dueDate) newErrors.dueDate = 'Due date is required';\n      if (formData.fileFormats.length === 0) newErrors.fileFormats = 'Please select at least one file format';\n      \n      // Validate erosion surface date if Initial Erosion Surface is selected\n      if (formData.additionalRequests.includes('Initial Erosion Surface') && !formData.erosionSurfaceDueDate) {\n        newErrors.erosionSurfaceDueDate = 'Initial Erosion Surface due date is required';\n      }\n    }\n    \n    // Takeoff-specific validation (no state field needed)\n    if (serviceSelection.serviceType === 'Takeoff') {\n      if (!formData.dueDate) newErrors.dueDate = 'Due date is required';\n      if (!formData.cadAvailable) newErrors.cadAvailable = 'Please specify if CAD files are available';\n      if (!formData.scopeOptions || formData.scopeOptions.length === 0) {\n        newErrors.scopeOptions = 'Please select at least one scope option';\n      }\n      \n      // Validate earthwork depth fields if Earthwork is selected\n      if (formData.scopeOptions?.includes('Earthwork Cut/Fill')) {\n        if (!formData.strippingDepth) newErrors.strippingDepth = 'Stripping depth is required when Earthwork Cut/Fill is selected';\n        if (!formData.replacementDepth) newErrors.replacementDepth = 'Replacement depth is required when Earthwork Cut/Fill is selected';\n      }\n    }\n    \n    setErrors(newErrors);\n    console.log('Validation errors:', newErrors);\n    if (Object.keys(newErrors).length > 0) {\n      scrollToFirstError(newErrors);\n    }\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Handle selection submission\n  const handleSelectionSubmit = (e) => {\n    e.preventDefault();\n    if (validateSelection()) {\n      setCurrentStep('form');\n      setErrors({});\n    }\n  };\n\n  // Handle form submission to Supabase with security checks\n  const handleFormSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Check rate limiting\n    const rateLimitCheck = formSubmissionLimiter.check(formData.email || 'anonymous');\n    if (!rateLimitCheck.allowed) {\n      setSubmitMessage({ \n        type: 'error', \n        text: rateLimitCheck.message \n      });\n      return;\n    }\n    \n    // Log with masked sensitive data\n    console.log('Form submission triggered');\n    console.log('Current formData:', maskSensitiveData(formData));\n    console.log('Service selection:', serviceSelection);\n    \n    if (!validateForm()) {\n      console.log('Validation failed. Errors:', errors);\n      return;\n    }\n    \n    // Additional security validation\n    const securityCheck = validateFormData(formData);\n    if (!securityCheck.isValid) {\n      setErrors(securityCheck.errors);\n      setSubmitMessage({ \n        type: 'error', \n        text: 'Invalid input detected. Please check your entries.' \n      });\n      return;\n    }\n    \n    setIsSubmitting(true);\n    setSubmitMessage({ type: '', text: '' });\n    \n    try {\n      // Helper to strip +1 from phone numbers for database storage\n      const stripPhonePrefix = (phone) => {\n        if (!phone) return phone;\n        return phone.replace(/^\\+1\\s?/, '');\n      };\n\n      // Determine which table to use based on selection\n      let tableName = '';\n      if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Yes') {\n        tableName = 'model_requests';\n      } else if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Quote Only') {\n        tableName = 'model_quotes';\n      } else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Yes') {\n        tableName = 'takeoff_requests';\n      } else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Quote Only') {\n        tableName = 'takeoff_quotes';\n      }\n\n      // Prepare submission data based on form type\n      let submissionData = {};\n\n      // Add model-specific fields for model_requests table\n      if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Yes') {\n        submissionData = {\n          name: sanitizeInput(formData.name),\n          email: sanitizeInput(formData.email),\n          company_name: sanitizeInput(formData.company),\n          project_name: sanitizeInput(formData.project),\n          state: formData.state,\n          is_revision: formData.revision === 'Yes' ? true : false,\n          finish_grade_due_date: formData.dueDate,\n          file_formats: formData.fileFormats,  // JSONB - send as array\n          additional_requests: formData.additionalRequests.length > 0 ? formData.additionalRequests : null,  // JSONB\n          advanced_utility: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities === true,  // Only true if 3D/Elevated Pipe is selected AND Advanced Utilities is checked\n          structure_count: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities && formData.structureCount ? parseInt(formData.structureCount) : null,\n          erosion_surface_due_date: formData.additionalRequests.includes('Initial Erosion Surface') && formData.erosionSurfaceDueDate ? formData.erosionSurfaceDueDate : null,\n          project_info: formData.specialInstructions || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })(),\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n      // Add fields for model_quotes table\n      else if (serviceSelection.serviceType === '3D Model' && serviceSelection.proceedWork === 'Quote Only') {\n        submissionData = {\n          name: formData.name,\n          email: formData.email,\n          company_name: formData.company,\n          project_name: formData.project,\n          state: formData.state,\n          is_revision: formData.revision === 'Yes' ? true : false,\n          quote_due_date: formData.dueDate,  // Note: different field name than model_requests\n          file_formats: formData.fileFormats.length > 0 ? formData.fileFormats : null,  // text[] array\n          additional_requests: formData.additionalRequests.length > 0 ? formData.additionalRequests : null,  // text[] array\n          advanced_utility: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities === true,  // Only true if 3D/Elevated Pipe is selected AND Advanced Utilities is checked\n          structure_count: formData.additionalRequests.includes('3D/Elevated Pipe') && formData.advancedUtilities && formData.structureCount ? parseInt(formData.structureCount) : null,\n          erosion_surface_due_date: formData.additionalRequests.includes('Initial Erosion Surface') && formData.erosionSurfaceDueDate ? formData.erosionSurfaceDueDate : null,\n          project_info: formData.specialInstructions || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })(),\n          // These fields will be null for new submissions\n          price: null,\n          quote_status: null,\n          notes_from_ab_civil: null,\n          date_quoted: null,\n          quote_status_change_date: null,\n          client_name: null,\n          client_id: null,\n          // Airtable fields null for web submissions\n          airtable_record_id: null,\n          airtable_client_record_id: null,\n          airtable_contact_record_id: null,\n          airtable_created_date: null,\n          last_modified_date: null,\n        };\n      }\n\n      // Add takeoff_requests table fields\n      else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Yes') {\n        submissionData = {\n          name: formData.name,\n          email: formData.email,\n          phone: null,\n          company_name: formData.company,\n          project_name: formData.project,\n          due_date: formData.dueDate,\n          cad_available: formData.cadAvailable === 'Yes',\n          scope_options: formData.scopeOptions,  // JSONB array\n          stripping_depth: formData.strippingDepth || null,\n          replacement_depth: formData.replacementDepth || null,\n          project_info: formData.projectInfo || null,\n          takeoff_status: null,  // Explicitly set to null to avoid database default\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })(),\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n      // Add takeoff_quotes table fields (same structure as takeoff_requests)\n      else if (serviceSelection.serviceType === 'Takeoff' && serviceSelection.proceedWork === 'Quote Only') {\n        submissionData = {\n          name: sanitizeInput(formData.name),\n          email: sanitizeInput(formData.email),\n          phone: null,\n          company_name: sanitizeInput(formData.company),\n          project_name: sanitizeInput(formData.project),\n          due_date: formData.dueDate,\n          cad_available: formData.cadAvailable === 'Yes',\n          scope_options: formData.scopeOptions,  // JSONB array\n          stripping_depth: formData.strippingDepth || null,\n          replacement_depth: formData.replacementDepth || null,\n          project_info: formData.projectInfo || null,\n          // Format file attachments for database JSONB column\n          file_attachments: (() => {\n            if (!formData.fileAttachments || formData.fileAttachments.length === 0) {\n              return null;\n            }\n            // Filter for uploaded files (those with a URL)\n            const uploadedFiles = formData.fileAttachments.filter(f => !!f.url);\n            if (uploadedFiles.length === 0) return null;\n            return uploadedFiles.map(f => ({\n              filename: f.filename,\n              url: f.url,\n              size: f.size,\n              path: f.path || f.url.split('/').slice(-2).join('/')\n            }));\n          })(),\n          // created_at and updated_at are handled by database defaults\n        };\n      }\n\n      // Insert into the appropriate table\n      \n      const { data, error } = await supabase\n        .from(tableName)\n        .insert([submissionData])\n        .select();\n\n\n      if (error) {\n        console.error('Supabase error details:', {\n          message: error.message,\n          details: error.details,\n          hint: error.hint,\n          code: error.code\n        });\n        throw error;\n      }\n\n      console.log('Submission successful:', data);\n\n      // Files are already uploaded, collect metadata for confirmation display\n      // Updated filter to be more inclusive - check for uploadComplete or has url\n      const uploadedFiles = formData.fileAttachments?.filter(file => \n        (file.uploadComplete === true) || (file.url && !file.isLocal)\n      ) || [];\n      console.log('Files successfully included in submission:', uploadedFiles.length);\n      console.log('[ServiceRequestForm] Filtered uploadedFiles details:', uploadedFiles);\n\n      // Success! Store submission data and show confirmation page\n      // Use secure random ID instead of timestamp\n      const referenceNumber = `SR-${generateSecureId(8)}`;\n      \n      // Debug logging for production\n      console.log('[ServiceRequestForm] Setting submissionResult with uploadedFiles:', {\n        hasUploadedFiles: !!uploadedFiles,\n        uploadedFilesLength: uploadedFiles ? uploadedFiles.length : 0,\n        uploadedFiles: uploadedFiles\n      });\n      \n      setSubmissionResult({\n        referenceNumber,\n        serviceType: serviceSelection.serviceType,\n        proceedWork: serviceSelection.proceedWork,\n        submittedData: {\n          ...formData,\n          serviceType: serviceSelection.serviceType,\n          proceedWork: serviceSelection.proceedWork\n        },\n        uploadedFiles: uploadedFiles\n      });\n      \n      setCurrentStep('confirmation');\n      \n    } catch (error) {\n      console.error('Submission error:', error);\n      console.error('Error details:', error.message);\n      setSubmitMessage({ \n        type: 'error', \n        text: `Error: ${error.message || 'There was an error submitting your request. Please try again.'}` \n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Handle new submission from confirmation page\n  const handleNewSubmission = () => {\n    resetForm();\n    setSubmissionResult(null);\n  };\n\n  // Reset form\n  const resetForm = () => {\n    setCurrentStep('selection');\n    setServiceSelection({\n      serviceType: '',\n      proceedWork: ''\n    });\n    setFormData({\n      name: '',\n      email: '',\n      company: '',\n      project: '',\n      state: '',\n      phone: '',\n      revision: '',\n      dueDate: '',\n      fileFormats: [],\n      additionalRequests: [],\n      erosionSurfaceDueDate: '',\n      advancedUtilities: false,\n      structureCount: '',\n      cadAvailable: '',\n      scopeOptions: [],\n      strippingDepth: '',\n      replacementDepth: '',\n      projectInfo: '',\n      specialInstructions: '',\n      fileAttachments: []\n    });\n    setErrors({});\n    setSubmitMessage({ type: '', text: '' });\n  };\n\n  // Handle back navigation\n  const handleBack = () => {\n    setCurrentStep('selection');\n    setErrors({});\n  };\n\n  // Render selection step\n  const renderSelectionStep = () => (\n    <div className=\"selection-container\">\n      <form onSubmit={handleSelectionSubmit}>\n        <div className=\"question-group\">\n          <p className=\"question\">Do you need a Model or a Takeoff? <span className=\"required\">*</span></p>\n          <div className=\"radio-group\">\n            <div className=\"radio-option\">\n              <input \n                type=\"radio\" \n                id=\"model\" \n                name=\"serviceType\" \n                value=\"3D Model\"\n                checked={serviceSelection.serviceType === '3D Model'}\n                onChange={(e) => setServiceSelection(prev => ({ ...prev, serviceType: e.target.value }))}\n              />\n              <label htmlFor=\"model\">3D Model</label>\n            </div>\n            <div className=\"radio-option\">\n              <input \n                type=\"radio\" \n                id=\"takeoff\" \n                name=\"serviceType\" \n                value=\"Takeoff\"\n                checked={serviceSelection.serviceType === 'Takeoff'}\n                onChange={(e) => setServiceSelection(prev => ({ ...prev, serviceType: e.target.value }))}\n              />\n              <label htmlFor=\"takeoff\">Takeoff</label>\n            </div>\n          </div>\n          {errors.serviceType && (\n            <span className=\"error-message\">{errors.serviceType}</span>\n          )}\n        </div>\n\n        <div className=\"question-group\">\n          <p className=\"question\">Proceed with the work? <span className=\"required\">*</span></p>\n          <div className=\"radio-group\">\n            <div className=\"radio-option\">\n              <input \n                type=\"radio\" \n                id=\"yes\" \n                name=\"proceedWork\" \n                value=\"Yes\"\n                checked={serviceSelection.proceedWork === 'Yes'}\n                onChange={(e) => setServiceSelection(prev => ({ ...prev, proceedWork: e.target.value }))}\n              />\n              <label htmlFor=\"yes\">Yes</label>\n            </div>\n            <div className=\"radio-option\">\n              <input \n                type=\"radio\" \n                id=\"quoteOnly\" \n                name=\"proceedWork\" \n                value=\"Quote Only\"\n                checked={serviceSelection.proceedWork === 'Quote Only'}\n                onChange={(e) => setServiceSelection(prev => ({ ...prev, proceedWork: e.target.value }))}\n              />\n              <label htmlFor=\"quoteOnly\">Quote Only</label>\n            </div>\n          </div>\n          {errors.proceedWork && (\n            <span className=\"error-message\">{errors.proceedWork}</span>\n          )}\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Next\n        </button>\n      </form>\n    </div>\n  );\n\n  // Render Model Request Form\n  const renderModelForm = () => (\n    <form onSubmit={handleFormSubmit} className=\"service-form condensed-form\">\n      <div className=\"form-header\">\n        <h2 className=\"form-title\">\n          3D Model {serviceSelection.proceedWork === 'Quote Only' ? 'Quote' : 'Request'}\n        </h2>\n      </div>\n\n      {submitMessage.text && (\n        <div className={`submit-message ${submitMessage.type}`}>\n          {submitMessage.text}\n        </div>\n      )}\n\n      {/* Contact Information Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label htmlFor=\"name\">Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"name\"\n              placeholder=\"First and Last\"\n              value={formData.name}\n              onChange={(e) => handleFieldChange('name', e.target.value)}\n              className={errors.name ? 'error-highlight' : ''}\n              required\n            />\n            {errors.name && <span className=\"error-message\">{errors.name}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"email\">Email <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"email\"\n              id=\"email\"\n              placeholder=\"your@email.com\"\n              value={formData.email}\n              onChange={(e) => handleFieldChange('email', e.target.value)}\n              className={errors.email ? 'error-highlight' : ''}\n              required\n            />\n            {errors.email && <span className=\"error-message\">{errors.email}</span>}\n          </div>\n        </div>\n\n      </div>\n\n      {/* Project Information Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label htmlFor=\"company\">Company Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"company\"\n              placeholder=\"Your Company\"\n              value={formData.company}\n              onChange={(e) => handleFieldChange('company', e.target.value)}\n              className={errors.company ? 'error-highlight' : ''}\n              required\n            />\n            {errors.company && <span className=\"error-message\">{errors.company}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"project\">Project Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"project\"\n              placeholder=\"Project Name\"\n              value={formData.project}\n              onChange={(e) => handleFieldChange('project', e.target.value)}\n              className={errors.project ? 'error-highlight' : ''}\n              required\n            />\n            {errors.project && <span className=\"error-message\">{errors.project}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"state\">Project State <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <select\n              id=\"state\"\n              value={formData.state}\n              onChange={(e) => handleFieldChange('state', e.target.value)}\n              className={errors.state ? 'error-highlight' : ''}\n              required\n            >\n              {states.map(state => (\n                <option key={state.value} value={state.value}>{state.label}</option>\n              ))}\n            </select>\n            {errors.state && <span className=\"error-message\">{errors.state}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* Model Details Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label>Is this a revision to a current model? <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <div className=\"radio-group-inline\">\n              <div className=\"radio-item-inline\">\n                <input\n                  type=\"radio\"\n                  id=\"revisionYes\"\n                  name=\"revision\"\n                  value=\"Yes\"\n                  checked={formData.revision === 'Yes'}\n                  onChange={(e) => handleFieldChange('revision', e.target.value)}\n                />\n                <label htmlFor=\"revisionYes\">Yes</label>\n              </div>\n              <div className=\"radio-item-inline\">\n                <input\n                  type=\"radio\"\n                  id=\"revisionNo\"\n                  name=\"revision\"\n                  value=\"No\"\n                  checked={formData.revision === 'No'}\n                  onChange={(e) => handleFieldChange('revision', e.target.value)}\n                />\n                <label htmlFor=\"revisionNo\">No</label>\n              </div>\n            </div>\n            {errors.revision && <span className=\"error-message\">{errors.revision}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"dueDate\">Due Date <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"date\"\n              id=\"dueDate\"\n              value={formData.dueDate}\n              onChange={(e) => handleFieldChange('dueDate', e.target.value)}\n              className={errors.dueDate ? 'error-highlight' : ''}\n              required\n            />\n            {errors.dueDate && <span className=\"error-message\">{errors.dueDate}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label>File Formats <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <div className=\"checkbox-group-inline\">\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"trimble\"\n                  checked={formData.fileFormats.includes('Trimble')}\n                  onChange={() => handleCheckboxChange('fileFormats', 'Trimble')}\n                />\n                <label htmlFor=\"trimble\">Trimble</label>\n              </div>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"topcon\"\n                  checked={formData.fileFormats.includes('Topcon')}\n                  onChange={() => handleCheckboxChange('fileFormats', 'Topcon')}\n                />\n                <label htmlFor=\"topcon\">Topcon</label>\n              </div>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"leica\"\n                  checked={formData.fileFormats.includes('Leica')}\n                  onChange={() => handleCheckboxChange('fileFormats', 'Leica')}\n                />\n                <label htmlFor=\"leica\">Leica</label>\n              </div>\n            </div>\n            {errors.fileFormats && <span className=\"error-message\">{errors.fileFormats}</span>}\n          </div>\n        </div>\n\n      </div>\n\n      {/* Additional Requests Section - Centered */}\n      <div className=\"form-section form-section-centered\">\n        <div className=\"section-header\">Additional Requests</div>\n        <div className=\"checkbox-group-horizontal\">\n          <div className=\"checkbox-item-inline\">\n            <input\n              type=\"checkbox\"\n              id=\"erosion\"\n              checked={formData.additionalRequests.includes('Initial Erosion Surface')}\n              onChange={() => handleCheckboxChange('additionalRequests', 'Initial Erosion Surface')}\n            />\n            <label htmlFor=\"erosion\">Initial Erosion Surface</label>\n          </div>\n          {formData.additionalRequests.includes('Initial Erosion Surface') && (\n            <div className=\"form-section conditional-section\" style={{ marginTop: '8px', marginBottom: '8px' }}>\n              <div className=\"form-row\">\n                <label htmlFor=\"erosionSurfaceDueDate\">Erosion Surface Date <span className=\"required\">*</span></label>\n                <div className=\"input-wrapper\">\n                  <input\n                    type=\"date\"\n                    id=\"erosionSurfaceDueDate\"\n                    value={formData.erosionSurfaceDueDate}\n                    onChange={(e) => handleFieldChange('erosionSurfaceDueDate', e.target.value)}\n                    className={errors.erosionSurfaceDueDate ? 'error-highlight' : ''}\n                    required\n                  />\n                  {errors.erosionSurfaceDueDate && <span className=\"error-message\">{errors.erosionSurfaceDueDate}</span>}\n                </div>\n              </div>\n            </div>\n          )}\n          <div className=\"checkbox-item-inline\">\n            <input\n              type=\"checkbox\"\n              id=\"pipe\"\n              checked={formData.additionalRequests.includes('3D/Elevated Pipe')}\n              onChange={() => handleCheckboxChange('additionalRequests', '3D/Elevated Pipe')}\n            />\n            <label htmlFor=\"pipe\">3D/Elevated Pipe</label>\n          </div>\n          {formData.additionalRequests.includes('3D/Elevated Pipe') && (\n            <div style={{ width: '100%', marginTop: '2px', fontSize: '13px', color: '#666', textAlign: 'center' }}>\n              All gravity pipe linework will be elevated by invert elevation.\n            </div>\n          )}\n          {formData.additionalRequests.includes('3D/Elevated Pipe') && (\n            <div className=\"form-section conditional-section\" style={{ marginTop: '8px', marginBottom: '8px' }}>\n              <div className=\"form-row\">\n                <label>Advanced Utilities</label>\n                <div className=\"input-wrapper\">\n                  <div className=\"checkbox-item-inline advanced-utilities-checkbox\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"advancedUtilities\"\n                      checked={formData.advancedUtilities}\n                      onChange={(e) => handleFieldChange('advancedUtilities', e.target.checked)}\n                    />\n                    <label htmlFor=\"advancedUtilities\" style={{ marginLeft: '8px', fontSize: '13px', color: '#666' }}>\n                      $30/structure modeled from shop drawings. Please enter total number of structures to be included.\n                    </label>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Show structure count input when Advanced Utilities is checked */}\n              {formData.advancedUtilities && (\n                <div className=\"form-row\">\n                  <label htmlFor=\"structureCount\">Number of Structures</label>\n                  <div className=\"input-wrapper\">\n                    <input\n                      type=\"number\"\n                      id=\"structureCount\"\n                      value={formData.structureCount}\n                      onChange={(e) => handleFieldChange('structureCount', e.target.value)}\n                      placeholder=\"Enter number of structures\"\n                      min=\"1\"\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n          <div className=\"checkbox-item-inline\">\n            <input\n              type=\"checkbox\"\n              id=\"linework\"\n              checked={formData.additionalRequests.includes('Linework Only')}\n              onChange={() => handleCheckboxChange('additionalRequests', 'Linework Only')}\n            />\n            <label htmlFor=\"linework\">Linework Only</label>\n          </div>\n          {formData.additionalRequests.includes('Linework Only') && (\n            <div style={{ width: '100%', marginTop: '2px', fontSize: '13px', color: '#dc2626', fontWeight: '500', textAlign: 'center' }}>\n              Caution: No surface will be generated when this option is checked. There will be no cut/fill values.\n            </div>\n          )}\n        </div>\n      </div>\n\n\n      {/* Additional Information Section */}\n      <div className=\"form-section form-section-centered\">\n        <div className=\"section-header\">Additional Info</div>\n        <textarea\n          id=\"specialInstructions\"\n          placeholder=\"Please provide any additional project information, specific requirements, or other requests...\"\n          value={formData.specialInstructions}\n          onChange={(e) => handleFieldChange('specialInstructions', e.target.value)}\n          rows=\"3\"\n          style={{ width: '100%' }}\n        />\n      </div>\n\n      {/* File Upload Section */}\n      <div className=\"form-section form-section-centered file-upload-section\">\n        <div className=\"section-header\">Upload Files</div>\n        <FileUploadWithFolders\n          files={formData.fileAttachments || []}\n          onFilesChange={(files) => handleFieldChange('fileAttachments', files)}\n          disabled={isSubmitting}\n          maxFiles={100}\n          formType={serviceSelection.serviceType === '3D Model' ? \n            (serviceSelection.proceedWork === 'Quote Only' ? '3d-quote' : '3d-request') :\n            (serviceSelection.proceedWork === 'Quote Only' ? 'takeoff-quote' : 'takeoff-request')\n          }\n          companyName={formData.company || 'Unknown Company'}\n          projectName={formData.project || 'Unknown Project'}\n        />\n      </div>\n\n      <div className=\"button-group\">\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={handleBack}>\n          Back\n        </button>\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>\n          {isSubmitting ? 'Submitting...' : 'Submit Request'}\n        </button>\n      </div>\n      {Object.keys(errors).length > 0 && (\n        <div style={{ textAlign: 'center', marginTop: '10px', color: '#dc3545', fontSize: '14px' }}>\n          Please fill out required areas\n        </div>\n      )}\n    </form>\n  );\n\n  // Render Takeoff Request Form\n  const renderTakeoffForm = () => (\n    <form onSubmit={handleFormSubmit} className=\"service-form condensed-form\">\n      <div className=\"form-header\">\n        <h2 className=\"form-title\">\n          Takeoff {serviceSelection.proceedWork === 'Quote Only' ? 'Quote' : 'Request'}\n        </h2>\n      </div>\n\n      {submitMessage.text && (\n        <div className={`submit-message ${submitMessage.type}`}>\n          {submitMessage.text}\n        </div>\n      )}\n\n      {/* Contact Information Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label htmlFor=\"name\">Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"name\"\n              placeholder=\"First and Last\"\n              value={formData.name}\n              onChange={(e) => handleFieldChange('name', e.target.value)}\n              className={errors.name ? 'error-highlight' : ''}\n              required\n            />\n            {errors.name && <span className=\"error-message\">{errors.name}</span>}\n          </div>\n        </div>\n\n\n        <div className=\"form-row\">\n          <label htmlFor=\"email\">Email <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"email\"\n              id=\"email\"\n              placeholder=\"your@email.com\"\n              value={formData.email}\n              onChange={(e) => handleFieldChange('email', e.target.value)}\n              className={errors.email ? 'error-highlight' : ''}\n              required\n            />\n            {errors.email && <span className=\"error-message\">{errors.email}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"company\">Company Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"company\"\n              placeholder=\"Your Company\"\n              value={formData.company}\n              onChange={(e) => handleFieldChange('company', e.target.value)}\n              className={errors.company ? 'error-highlight' : ''}\n              required\n            />\n            {errors.company && <span className=\"error-message\">{errors.company}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* Project Details Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label htmlFor=\"project\">Project Name <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"text\"\n              id=\"project\"\n              placeholder=\"Project Name\"\n              value={formData.project}\n              onChange={(e) => handleFieldChange('project', e.target.value)}\n              className={errors.project ? 'error-highlight' : ''}\n              required\n            />\n            {errors.project && <span className=\"error-message\">{errors.project}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label htmlFor=\"dueDate\">Due Date <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <input\n              type=\"date\"\n              id=\"dueDate\"\n              value={formData.dueDate}\n              onChange={(e) => handleFieldChange('dueDate', e.target.value)}\n              className={errors.dueDate ? 'error-highlight' : ''}\n              required\n            />\n            {errors.dueDate && <span className=\"error-message\">{errors.dueDate}</span>}\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <label>CAD Files Available? <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <div className=\"radio-group-inline\">\n              <div className=\"radio-item-inline\">\n                <input\n                  type=\"radio\"\n                  id=\"cadYes\"\n                  name=\"cadAvailable\"\n                  value=\"Yes\"\n                  checked={formData.cadAvailable === 'Yes'}\n                  onChange={(e) => handleFieldChange('cadAvailable', e.target.value)}\n                />\n                <label htmlFor=\"cadYes\">Yes</label>\n              </div>\n              <div className=\"radio-item-inline\">\n                <input\n                  type=\"radio\"\n                  id=\"cadNo\"\n                  name=\"cadAvailable\"\n                  value=\"No\"\n                  checked={formData.cadAvailable === 'No'}\n                  onChange={(e) => handleFieldChange('cadAvailable', e.target.value)}\n                />\n                <label htmlFor=\"cadNo\">No</label>\n              </div>\n            </div>\n            {errors.cadAvailable && <span className=\"error-message\">{errors.cadAvailable}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* Scope Options Section */}\n      <div className=\"form-section\">\n        <div className=\"form-row\">\n          <label>Scope Options <span className=\"required\">*</span></label>\n          <div className=\"input-wrapper\">\n            <div className=\"checkbox-group-inline\" style={{ flexDirection: 'column', gap: '12px' }}>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"earthworkCutFill\"\n                  checked={formData.scopeOptions?.includes('Earthwork Cut/Fill')}\n                  onChange={() => handleCheckboxChange('scopeOptions', 'Earthwork Cut/Fill')}\n                />\n                <label htmlFor=\"earthworkCutFill\">Earthwork Cut/Fill</label>\n              </div>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"utilities\"\n                  checked={formData.scopeOptions?.includes('Utilities (length/count and trench excavation)')}\n                  onChange={() => handleCheckboxChange('scopeOptions', 'Utilities (length/count and trench excavation)')}\n                />\n                <label htmlFor=\"utilities\">Utilities (length/count and trench excavation)</label>\n              </div>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"subgrade\"\n                  checked={formData.scopeOptions?.includes('Subgrade Materials (stone, curb, asphalt, concrete, ect.)')}\n                  onChange={() => handleCheckboxChange('scopeOptions', 'Subgrade Materials (stone, curb, asphalt, concrete, ect.)')}\n                />\n                <label htmlFor=\"subgrade\">Subgrade Materials (stone, curb, asphalt, concrete, ect.)</label>\n              </div>\n              <div className=\"checkbox-item-inline\">\n                <input\n                  type=\"checkbox\"\n                  id=\"erosion\"\n                  checked={formData.scopeOptions?.includes('Erosion Control (silt fence, matting, safety fence, baffles, ect.)')}\n                  onChange={() => handleCheckboxChange('scopeOptions', 'Erosion Control (silt fence, matting, safety fence, baffles, ect.)')}\n                />\n                <label htmlFor=\"erosion\">Erosion Control (silt fence, matting, safety fence, baffles, ect.)</label>\n              </div>\n            </div>\n            {errors.scopeOptions && <span className=\"error-message\">{errors.scopeOptions}</span>}\n          </div>\n        </div>\n      </div>\n\n      {/* Conditional earthwork depth fields */}\n      {formData.scopeOptions?.includes('Earthwork Cut/Fill') && (\n        <div className=\"form-section conditional-section\">\n          <div className=\"form-row\">\n            <label htmlFor=\"strippingDepth\" style={{ fontSize: '13px' }}>Stripping Depth <span className=\"required\">*</span></label>\n            <div className=\"input-wrapper\">\n              <input\n                type=\"text\"\n                id=\"strippingDepth\"\n                placeholder=\"e.g., 6 inches, 0.5 feet\"\n                value={formData.strippingDepth || ''}\n                onChange={(e) => handleFieldChange('strippingDepth', e.target.value)}\n                className={errors.strippingDepth ? 'error-highlight' : ''}\n              />\n              {errors.strippingDepth && <span className=\"error-message\">{errors.strippingDepth}</span>}\n            </div>\n          </div>\n          \n          <div className=\"form-row\">\n            <label htmlFor=\"replacementDepth\" style={{ fontSize: '13px' }}>Replacement Depth <span className=\"required\">*</span></label>\n            <div className=\"input-wrapper\">\n              <input\n                type=\"text\"\n                id=\"replacementDepth\"\n                placeholder=\"e.g., 6 inches, 0.5 feet\"\n                value={formData.replacementDepth || ''}\n                onChange={(e) => handleFieldChange('replacementDepth', e.target.value)}\n                className={errors.replacementDepth ? 'error-highlight' : ''}\n              />\n              {errors.replacementDepth && <span className=\"error-message\">{errors.replacementDepth}</span>}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Additional Information Section */}\n      <div className=\"form-section form-section-centered\">\n        <div className=\"section-header\">Additional Info</div>\n        <textarea\n          id=\"projectInfo\"\n          placeholder=\"Please provide any additional project information, specific requirements, or scope details...\"\n          value={formData.projectInfo || ''}\n          onChange={(e) => handleFieldChange('projectInfo', e.target.value)}\n          rows=\"3\"\n          style={{ width: '100%' }}\n        />\n      </div>\n\n      {/* File Upload Section */}\n      <div className=\"form-section form-section-centered file-upload-section\">\n        <div className=\"section-header\">Upload Files</div>\n        <FileUploadWithFolders\n          files={formData.fileAttachments || []}\n          onFilesChange={(files) => handleFieldChange('fileAttachments', files)}\n          disabled={isSubmitting}\n          maxFiles={100}\n          formType={serviceSelection.serviceType === '3D Model' ? \n            (serviceSelection.proceedWork === 'Quote Only' ? '3d-quote' : '3d-request') :\n            (serviceSelection.proceedWork === 'Quote Only' ? 'takeoff-quote' : 'takeoff-request')\n          }\n          companyName={formData.company || 'Unknown Company'}\n          projectName={formData.project || 'Unknown Project'}\n        />\n      </div>\n\n      <div className=\"button-group\">\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={handleBack}>\n          Back\n        </button>\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>\n          {isSubmitting ? 'Submitting...' : 'Submit Request'}\n        </button>\n      </div>\n      {Object.keys(errors).length > 0 && (\n        <div style={{ textAlign: 'center', marginTop: '10px', color: '#dc3545', fontSize: '14px' }}>\n          Please fill out required areas\n        </div>\n      )}\n    </form>\n  );\n\n  // Render confirmation page\n  const renderConfirmation = () => {\n    if (!submissionResult) return null;\n    \n    const title = submissionResult.proceedWork === 'Quote Only'\n      ? 'Quote Request Received!'\n      : 'Service Request Submitted!';\n      \n    const message = `Thank you for submitting your ${submissionResult.serviceType} ${submissionResult.proceedWork === 'Quote Only' ? 'quote request' : 'service request'}. We will contact you soon.`;\n    \n    return (\n      <ConfirmationPage\n        title={title}\n        message={message}\n        referenceNumber={submissionResult.referenceNumber}\n        submissionData={submissionResult.submittedData}\n        uploadedFiles={submissionResult.uploadedFiles}\n        showDetails={true}\n        onNewSubmission={handleNewSubmission}\n      />\n    );\n  };\n\n  // Main render\n  return (\n    <AutoResizeWrapper padding={40}>\n      <div className=\"service-request-container\">\n        {currentStep === 'selection' && renderSelectionStep()}\n        {currentStep === 'form' && serviceSelection.serviceType === '3D Model' && renderModelForm()}\n        {currentStep === 'form' && serviceSelection.serviceType === 'Takeoff' && renderTakeoffForm()}\n        {currentStep === 'confirmation' && renderConfirmation()}\n      </div>\n    </AutoResizeWrapper>\n  );\n};\n\nexport default ServiceRequestForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,0BAA0B;AACjC,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,qBAAqB,MAAM,wCAAwC;AAC1E,OAAOC,sBAAsB,MAAM,0CAA0C;AAC7E,OAAOC,gBAAgB,MAAM,yCAAyC;AACtE,OAAOC,iBAAiB,MAAM,2CAA2C;AACzE,SACEC,aAAa,EACbC,YAAY,EACZC,YAAY,EACZC,gBAAgB,EAChBC,gBAAgB,EAChBC,qBAAqB,EACrBC,iBAAiB,QACZ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B;EACA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACmB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGpB,QAAQ,CAAC;IACvDqB,WAAW,EAAE,EAAE;IAAE;IACjBC,WAAW,EAAE,EAAE,CAAG;EACpB,CAAC,CAAC;EAEF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC;IACvC;IACAyB,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE,EAAE;IAET;IACAC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,WAAW,EAAE,EAAE;IACfC,kBAAkB,EAAE,EAAE;IACtBC,qBAAqB,EAAE,EAAE;IAAE;IAC3BC,iBAAiB,EAAE,KAAK;IAAI;IAC5BC,cAAc,EAAE,EAAE;IAAU;;IAE5B;IACAC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE,EAAE;IAAG;IACnBC,cAAc,EAAE,EAAE;IAClBC,gBAAgB,EAAE,EAAE;IACpBC,WAAW,EAAE,EAAE;IAEf;IACAC,mBAAmB,EAAE,EAAE;IAEvB;IACAC,eAAe,EAAE;EACnB,CAAC,CAAC;EAEF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG9C,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAAC+C,YAAY,EAAEC,eAAe,CAAC,GAAGhD,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACiD,aAAa,EAAEC,gBAAgB,CAAC,GAAGlD,QAAQ,CAAC;IAAEmD,IAAI,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EAC1E,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;;EAE9D;EACA,MAAMuD,kBAAkB,GAAIC,WAAW,IAAK;IAC1C;IACA,MAAMC,eAAe,GAAGC,MAAM,CAACC,IAAI,CAACH,WAAW,CAAC,CAAC,CAAC,CAAC;IACnD,IAAI,CAACC,eAAe,EAAE;;IAEtB;IACAG,UAAU,CAAC,MAAM;MACf;MACA,IAAIC,aAAa,GAAG,IAAI;;MAExB;MACAA,aAAa,GAAGC,QAAQ,CAACC,cAAc,CAACN,eAAe,CAAC;;MAExD;MACA,IAAI,CAACI,aAAa,EAAE;QAClBA,aAAa,GAAGC,QAAQ,CAACE,aAAa,CAAC,UAAUP,eAAe,IAAI,CAAC;MACvE;;MAEA;MACA,IAAI,CAACI,aAAa,EAAE;QAClB,MAAMI,aAAa,GAAGH,QAAQ,CAACI,gBAAgB,CAAC,gBAAgB,CAAC;QACjE,KAAK,MAAMC,QAAQ,IAAIF,aAAa,EAAE;UACpC;UACA,MAAMG,SAAS,GAAGD,QAAQ,CAACE,OAAO,CAAC,gBAAgB,CAAC,IAAIF,QAAQ,CAACE,OAAO,CAAC,WAAW,CAAC;UACrF,IAAID,SAAS,EAAE;YACb,MAAME,KAAK,GAAGF,SAAS,CAACJ,aAAa,CAAC,yBAAyB,CAAC;YAChE,IAAIM,KAAK,EAAE;cACTT,aAAa,GAAGS,KAAK;cACrB;YACF;UACF;QACF;MACF;;MAEA;MACA,IAAIT,aAAa,EAAE;QACjB;QACA,MAAMU,WAAW,GAAGV,aAAa,CAACW,qBAAqB,CAAC,CAAC;QACzD,MAAMC,kBAAkB,GAAGF,WAAW,CAACG,GAAG,GAAGC,MAAM,CAACC,WAAW;QAC/D,MAAMC,YAAY,GAAG,GAAG,CAAC,CAAC;QAC1B,MAAMC,oBAAoB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEP,kBAAkB,GAAGI,YAAY,CAAC;;QAE3E;QACAF,MAAM,CAACM,QAAQ,CAAC;UACdP,GAAG,EAAEI,oBAAoB;UACzBI,QAAQ,EAAE;QACZ,CAAC,CAAC;;QAEF;QACAtB,UAAU,CAAC,MAAM;UACf,IAAIC,aAAa,CAACsB,OAAO,KAAK,OAAO,IAAItB,aAAa,CAACsB,OAAO,KAAK,QAAQ,IAAItB,aAAa,CAACsB,OAAO,KAAK,UAAU,EAAE;YACnHtB,aAAa,CAACuB,KAAK,CAAC,CAAC;UACvB;QACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX;IACF,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;EACX,CAAC;;EAED;EACA,MAAMC,MAAM,GAAG,CACb;IAAEC,KAAK,EAAE,EAAE;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACtC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAS,CAAC,EAChC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,EACpC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAc,CAAC,EACrC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAS,CAAC,EAChC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAC/B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAS,CAAC,EAChC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAY,CAAC,EACnC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAC/B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACvC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAY,CAAC,EACnC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAc,CAAC,EACrC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAS,CAAC,EAChC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACvC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,EACpC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,EACpC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACxC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAe,CAAC,EACtC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAS,CAAC,EAChC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAe,CAAC,EACtC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAe,CAAC,EACtC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAiB,CAAC,EACxC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAe,CAAC,EACtC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAY,CAAC,EACnC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAQ,CAAC,EAC/B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAO,CAAC,EAC9B;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,EACjC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAW,CAAC,EAClC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAa,CAAC,EACpC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAgB,CAAC,EACvC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAY,CAAC,EACnC;IAAED,KAAK,EAAE,IAAI;IAAEC,KAAK,EAAE;EAAU,CAAC,CAClC;;EAED;EACA,MAAMC,iBAAiB,GAAIF,KAAK,IAAK;IACnC;IACA,MAAMG,OAAO,GAAGH,KAAK,CAACI,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC/D,MAAMC,OAAO,GAAGF,OAAO,CAACG,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;IAExC,IAAID,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;IACnC,IAAIF,OAAO,CAACE,MAAM,IAAI,CAAC,EAAE,OAAO,OAAOF,OAAO,EAAE;IAChD,IAAIA,OAAO,CAACE,MAAM,IAAI,CAAC,EAAE,OAAO,OAAOF,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKD,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE;IACzF,OAAO,OAAOD,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAKD,OAAO,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,IAAID,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE;EAC7F,CAAC;;EAED;EACA,MAAME,iBAAiB,GAAGA,CAACC,KAAK,EAAET,KAAK,KAAK;IAC1C;IACA9D,WAAW,CAACwE,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAACD,KAAK,GAAGT;IACX,CAAC,CAAC,CAAC;IACH;IACA,IAAIzC,MAAM,CAACkD,KAAK,CAAC,EAAE;MACjBjD,SAAS,CAACkD,IAAI,KAAK;QACjB,GAAGA,IAAI;QACP,CAACD,KAAK,GAAG;MACX,CAAC,CAAC,CAAC;IACL;EACF,CAAC;;EAED;EACA,MAAME,oBAAoB,GAAGA,CAACF,KAAK,EAAET,KAAK,KAAK;IAC7C9D,WAAW,CAACwE,IAAI,IAAI;MAClB,MAAME,aAAa,GAAGF,IAAI,CAACD,KAAK,CAAC;MACjC,MAAMI,SAAS,GAAGD,aAAa,CAACE,QAAQ,CAACd,KAAK,CAAC,GAC3CY,aAAa,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKhB,KAAK,CAAC,GACtC,CAAC,GAAGY,aAAa,EAAEZ,KAAK,CAAC;MAE7B,OAAO;QACL,GAAGU,IAAI;QACP,CAACD,KAAK,GAAGI;MACX,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMI,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,SAAS,GAAG,CAAC,CAAC;IAEpB,IAAI,CAACrF,gBAAgB,CAACE,WAAW,EAAE;MACjCmF,SAAS,CAACnF,WAAW,GAAG,8BAA8B;IACxD;IACA,IAAI,CAACF,gBAAgB,CAACG,WAAW,EAAE;MACjCkF,SAAS,CAAClF,WAAW,GAAG,8BAA8B;IACxD;IAEAwB,SAAS,CAAC0D,SAAS,CAAC;IACpB,IAAI9C,MAAM,CAACC,IAAI,CAAC6C,SAAS,CAAC,CAACX,MAAM,GAAG,CAAC,EAAE;MACrCtC,kBAAkB,CAACiD,SAAS,CAAC;IAC/B;IACA,OAAO9C,MAAM,CAACC,IAAI,CAAC6C,SAAS,CAAC,CAACX,MAAM,KAAK,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMY,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMD,SAAS,GAAG,CAAC,CAAC;;IAEpB;IACA,IAAI,CAACjF,QAAQ,CAACE,IAAI,EAAE;MAClB+E,SAAS,CAAC/E,IAAI,GAAG,kBAAkB;IACrC,CAAC,MAAM,IAAIF,QAAQ,CAACE,IAAI,CAACoE,MAAM,GAAG,CAAC,IAAItE,QAAQ,CAACE,IAAI,CAACoE,MAAM,GAAG,GAAG,EAAE;MACjEW,SAAS,CAAC/E,IAAI,GAAG,2CAA2C;IAC9D;IAEA,IAAI,CAACF,QAAQ,CAACG,KAAK,EAAE;MACnB8E,SAAS,CAAC9E,KAAK,GAAG,mBAAmB;IACvC,CAAC,MAAM,IAAI,CAACnB,YAAY,CAACgB,QAAQ,CAACG,KAAK,CAAC,EAAE;MACxC8E,SAAS,CAAC9E,KAAK,GAAG,oCAAoC;IACxD;IAEA,IAAI,CAACH,QAAQ,CAACI,OAAO,EAAE;MACrB6E,SAAS,CAAC7E,OAAO,GAAG,0BAA0B;IAChD,CAAC,MAAM,IAAIJ,QAAQ,CAACI,OAAO,CAACkE,MAAM,GAAG,CAAC,IAAItE,QAAQ,CAACI,OAAO,CAACkE,MAAM,GAAG,GAAG,EAAE;MACvEW,SAAS,CAAC7E,OAAO,GAAG,mDAAmD;IACzE;IAEA,IAAI,CAACJ,QAAQ,CAACK,OAAO,EAAE;MACrB4E,SAAS,CAAC5E,OAAO,GAAG,0BAA0B;IAChD,CAAC,MAAM,IAAIL,QAAQ,CAACK,OAAO,CAACiE,MAAM,GAAG,CAAC,IAAItE,QAAQ,CAACK,OAAO,CAACiE,MAAM,GAAG,GAAG,EAAE;MACvEW,SAAS,CAAC5E,OAAO,GAAG,mDAAmD;IACzE;;IAEA;IACA,IAAIT,gBAAgB,CAACE,WAAW,KAAK,UAAU,EAAE;MAC/C,IAAI,CAACE,QAAQ,CAACM,KAAK,EAAE2E,SAAS,CAAC3E,KAAK,GAAG,2BAA2B;MAClE,IAAI,CAACN,QAAQ,CAACQ,QAAQ,EAAEyE,SAAS,CAACzE,QAAQ,GAAG,sCAAsC;MACnF,IAAI,CAACR,QAAQ,CAACS,OAAO,EAAEwE,SAAS,CAACxE,OAAO,GAAG,sBAAsB;MACjE,IAAIT,QAAQ,CAACU,WAAW,CAAC4D,MAAM,KAAK,CAAC,EAAEW,SAAS,CAACvE,WAAW,GAAG,wCAAwC;;MAEvG;MACA,IAAIV,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,yBAAyB,CAAC,IAAI,CAAC7E,QAAQ,CAACY,qBAAqB,EAAE;QACtGqE,SAAS,CAACrE,qBAAqB,GAAG,8CAA8C;MAClF;IACF;;IAEA;IACA,IAAIhB,gBAAgB,CAACE,WAAW,KAAK,SAAS,EAAE;MAAA,IAAAqF,qBAAA;MAC9C,IAAI,CAACnF,QAAQ,CAACS,OAAO,EAAEwE,SAAS,CAACxE,OAAO,GAAG,sBAAsB;MACjE,IAAI,CAACT,QAAQ,CAACe,YAAY,EAAEkE,SAAS,CAAClE,YAAY,GAAG,2CAA2C;MAChG,IAAI,CAACf,QAAQ,CAACgB,YAAY,IAAIhB,QAAQ,CAACgB,YAAY,CAACsD,MAAM,KAAK,CAAC,EAAE;QAChEW,SAAS,CAACjE,YAAY,GAAG,yCAAyC;MACpE;;MAEA;MACA,KAAAmE,qBAAA,GAAInF,QAAQ,CAACgB,YAAY,cAAAmE,qBAAA,eAArBA,qBAAA,CAAuBN,QAAQ,CAAC,oBAAoB,CAAC,EAAE;QACzD,IAAI,CAAC7E,QAAQ,CAACiB,cAAc,EAAEgE,SAAS,CAAChE,cAAc,GAAG,iEAAiE;QAC1H,IAAI,CAACjB,QAAQ,CAACkB,gBAAgB,EAAE+D,SAAS,CAAC/D,gBAAgB,GAAG,mEAAmE;MAClI;IACF;IAEAK,SAAS,CAAC0D,SAAS,CAAC;IACpBG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEJ,SAAS,CAAC;IAC5C,IAAI9C,MAAM,CAACC,IAAI,CAAC6C,SAAS,CAAC,CAACX,MAAM,GAAG,CAAC,EAAE;MACrCtC,kBAAkB,CAACiD,SAAS,CAAC;IAC/B;IACA,OAAO9C,MAAM,CAACC,IAAI,CAAC6C,SAAS,CAAC,CAACX,MAAM,KAAK,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMgB,qBAAqB,GAAIC,CAAC,IAAK;IACnCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIR,iBAAiB,CAAC,CAAC,EAAE;MACvBrF,cAAc,CAAC,MAAM,CAAC;MACtB4B,SAAS,CAAC,CAAC,CAAC,CAAC;IACf;EACF,CAAC;;EAED;EACA,MAAMkE,gBAAgB,GAAG,MAAOF,CAAC,IAAK;IACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;;IAElB;IACA,MAAME,cAAc,GAAGtG,qBAAqB,CAACuG,KAAK,CAAC3F,QAAQ,CAACG,KAAK,IAAI,WAAW,CAAC;IACjF,IAAI,CAACuF,cAAc,CAACE,OAAO,EAAE;MAC3BjE,gBAAgB,CAAC;QACfC,IAAI,EAAE,OAAO;QACbC,IAAI,EAAE6D,cAAc,CAACG;MACvB,CAAC,CAAC;MACF;IACF;;IAEA;IACAT,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxCD,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEhG,iBAAiB,CAACW,QAAQ,CAAC,CAAC;IAC7DoF,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEzF,gBAAgB,CAAC;IAEnD,IAAI,CAACsF,YAAY,CAAC,CAAC,EAAE;MACnBE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE/D,MAAM,CAAC;MACjD;IACF;;IAEA;IACA,MAAMwE,aAAa,GAAG3G,gBAAgB,CAACa,QAAQ,CAAC;IAChD,IAAI,CAAC8F,aAAa,CAACC,OAAO,EAAE;MAC1BxE,SAAS,CAACuE,aAAa,CAACxE,MAAM,CAAC;MAC/BK,gBAAgB,CAAC;QACfC,IAAI,EAAE,OAAO;QACbC,IAAI,EAAE;MACR,CAAC,CAAC;MACF;IACF;IAEAJ,eAAe,CAAC,IAAI,CAAC;IACrBE,gBAAgB,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IAExC,IAAI;MAAA,IAAAmE,qBAAA;MACF;MACA,MAAMC,gBAAgB,GAAI1F,KAAK,IAAK;QAClC,IAAI,CAACA,KAAK,EAAE,OAAOA,KAAK;QACxB,OAAOA,KAAK,CAAC4D,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;MACrC,CAAC;;MAED;MACA,IAAI+B,SAAS,GAAG,EAAE;MAClB,IAAItG,gBAAgB,CAACE,WAAW,KAAK,UAAU,IAAIF,gBAAgB,CAACG,WAAW,KAAK,KAAK,EAAE;QACzFmG,SAAS,GAAG,gBAAgB;MAC9B,CAAC,MAAM,IAAItG,gBAAgB,CAACE,WAAW,KAAK,UAAU,IAAIF,gBAAgB,CAACG,WAAW,KAAK,YAAY,EAAE;QACvGmG,SAAS,GAAG,cAAc;MAC5B,CAAC,MAAM,IAAItG,gBAAgB,CAACE,WAAW,KAAK,SAAS,IAAIF,gBAAgB,CAACG,WAAW,KAAK,KAAK,EAAE;QAC/FmG,SAAS,GAAG,kBAAkB;MAChC,CAAC,MAAM,IAAItG,gBAAgB,CAACE,WAAW,KAAK,SAAS,IAAIF,gBAAgB,CAACG,WAAW,KAAK,YAAY,EAAE;QACtGmG,SAAS,GAAG,gBAAgB;MAC9B;;MAEA;MACA,IAAIC,cAAc,GAAG,CAAC,CAAC;;MAEvB;MACA,IAAIvG,gBAAgB,CAACE,WAAW,KAAK,UAAU,IAAIF,gBAAgB,CAACG,WAAW,KAAK,KAAK,EAAE;QACzFoG,cAAc,GAAG;UACfjG,IAAI,EAAEnB,aAAa,CAACiB,QAAQ,CAACE,IAAI,CAAC;UAClCC,KAAK,EAAEpB,aAAa,CAACiB,QAAQ,CAACG,KAAK,CAAC;UACpCiG,YAAY,EAAErH,aAAa,CAACiB,QAAQ,CAACI,OAAO,CAAC;UAC7CiG,YAAY,EAAEtH,aAAa,CAACiB,QAAQ,CAACK,OAAO,CAAC;UAC7CC,KAAK,EAAEN,QAAQ,CAACM,KAAK;UACrBgG,WAAW,EAAEtG,QAAQ,CAACQ,QAAQ,KAAK,KAAK,GAAG,IAAI,GAAG,KAAK;UACvD+F,qBAAqB,EAAEvG,QAAQ,CAACS,OAAO;UACvC+F,YAAY,EAAExG,QAAQ,CAACU,WAAW;UAAG;UACrC+F,mBAAmB,EAAEzG,QAAQ,CAACW,kBAAkB,CAAC2D,MAAM,GAAG,CAAC,GAAGtE,QAAQ,CAACW,kBAAkB,GAAG,IAAI;UAAG;UACnG+F,gBAAgB,EAAE1G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,IAAI7E,QAAQ,CAACa,iBAAiB,KAAK,IAAI;UAAG;UACpH8F,eAAe,EAAE3G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,IAAI7E,QAAQ,CAACa,iBAAiB,IAAIb,QAAQ,CAACc,cAAc,GAAG8F,QAAQ,CAAC5G,QAAQ,CAACc,cAAc,CAAC,GAAG,IAAI;UAC7K+F,wBAAwB,EAAE7G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,yBAAyB,CAAC,IAAI7E,QAAQ,CAACY,qBAAqB,GAAGZ,QAAQ,CAACY,qBAAqB,GAAG,IAAI;UACnKkG,YAAY,EAAE9G,QAAQ,CAACoB,mBAAmB,IAAI,IAAI;UAClD;UACA2F,gBAAgB,EAAE,CAAC,MAAM;YACvB,IAAI,CAAC/G,QAAQ,CAACqB,eAAe,IAAIrB,QAAQ,CAACqB,eAAe,CAACiD,MAAM,KAAK,CAAC,EAAE;cACtE,OAAO,IAAI;YACb;YACA;YACA,MAAM0C,aAAa,GAAGhH,QAAQ,CAACqB,eAAe,CAACyD,MAAM,CAACmC,CAAC,IAAI,CAAC,CAACA,CAAC,CAACC,GAAG,CAAC;YACnE,IAAIF,aAAa,CAAC1C,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;YAC3C,OAAO0C,aAAa,CAACG,GAAG,CAACF,CAAC,KAAK;cAC7BG,QAAQ,EAAEH,CAAC,CAACG,QAAQ;cACpBF,GAAG,EAAED,CAAC,CAACC,GAAG;cACVG,IAAI,EAAEJ,CAAC,CAACI,IAAI;cACZC,IAAI,EAAEL,CAAC,CAACK,IAAI,IAAIL,CAAC,CAACC,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG;YACrD,CAAC,CAAC,CAAC;UACL,CAAC,EAAE;UACH;QACF,CAAC;MACH;MACA;MAAA,KACK,IAAI7H,gBAAgB,CAACE,WAAW,KAAK,UAAU,IAAIF,gBAAgB,CAACG,WAAW,KAAK,YAAY,EAAE;QACrGoG,cAAc,GAAG;UACfjG,IAAI,EAAEF,QAAQ,CAACE,IAAI;UACnBC,KAAK,EAAEH,QAAQ,CAACG,KAAK;UACrBiG,YAAY,EAAEpG,QAAQ,CAACI,OAAO;UAC9BiG,YAAY,EAAErG,QAAQ,CAACK,OAAO;UAC9BC,KAAK,EAAEN,QAAQ,CAACM,KAAK;UACrBgG,WAAW,EAAEtG,QAAQ,CAACQ,QAAQ,KAAK,KAAK,GAAG,IAAI,GAAG,KAAK;UACvDkH,cAAc,EAAE1H,QAAQ,CAACS,OAAO;UAAG;UACnC+F,YAAY,EAAExG,QAAQ,CAACU,WAAW,CAAC4D,MAAM,GAAG,CAAC,GAAGtE,QAAQ,CAACU,WAAW,GAAG,IAAI;UAAG;UAC9E+F,mBAAmB,EAAEzG,QAAQ,CAACW,kBAAkB,CAAC2D,MAAM,GAAG,CAAC,GAAGtE,QAAQ,CAACW,kBAAkB,GAAG,IAAI;UAAG;UACnG+F,gBAAgB,EAAE1G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,IAAI7E,QAAQ,CAACa,iBAAiB,KAAK,IAAI;UAAG;UACpH8F,eAAe,EAAE3G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,IAAI7E,QAAQ,CAACa,iBAAiB,IAAIb,QAAQ,CAACc,cAAc,GAAG8F,QAAQ,CAAC5G,QAAQ,CAACc,cAAc,CAAC,GAAG,IAAI;UAC7K+F,wBAAwB,EAAE7G,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,yBAAyB,CAAC,IAAI7E,QAAQ,CAACY,qBAAqB,GAAGZ,QAAQ,CAACY,qBAAqB,GAAG,IAAI;UACnKkG,YAAY,EAAE9G,QAAQ,CAACoB,mBAAmB,IAAI,IAAI;UAClD;UACA2F,gBAAgB,EAAE,CAAC,MAAM;YACvB,IAAI,CAAC/G,QAAQ,CAACqB,eAAe,IAAIrB,QAAQ,CAACqB,eAAe,CAACiD,MAAM,KAAK,CAAC,EAAE;cACtE,OAAO,IAAI;YACb;YACA;YACA,MAAM0C,aAAa,GAAGhH,QAAQ,CAACqB,eAAe,CAACyD,MAAM,CAACmC,CAAC,IAAI,CAAC,CAACA,CAAC,CAACC,GAAG,CAAC;YACnE,IAAIF,aAAa,CAAC1C,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;YAC3C,OAAO0C,aAAa,CAACG,GAAG,CAACF,CAAC,KAAK;cAC7BG,QAAQ,EAAEH,CAAC,CAACG,QAAQ;cACpBF,GAAG,EAAED,CAAC,CAACC,GAAG;cACVG,IAAI,EAAEJ,CAAC,CAACI,IAAI;cACZC,IAAI,EAAEL,CAAC,CAACK,IAAI,IAAIL,CAAC,CAACC,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG;YACrD,CAAC,CAAC,CAAC;UACL,CAAC,EAAE,CAAC;UACJ;UACAE,KAAK,EAAE,IAAI;UACXC,YAAY,EAAE,IAAI;UAClBC,mBAAmB,EAAE,IAAI;UACzBC,WAAW,EAAE,IAAI;UACjBC,wBAAwB,EAAE,IAAI;UAC9BC,WAAW,EAAE,IAAI;UACjBC,SAAS,EAAE,IAAI;UACf;UACAC,kBAAkB,EAAE,IAAI;UACxBC,yBAAyB,EAAE,IAAI;UAC/BC,0BAA0B,EAAE,IAAI;UAChCC,qBAAqB,EAAE,IAAI;UAC3BC,kBAAkB,EAAE;QACtB,CAAC;MACH;;MAEA;MAAA,KACK,IAAI1I,gBAAgB,CAACE,WAAW,KAAK,SAAS,IAAIF,gBAAgB,CAACG,WAAW,KAAK,KAAK,EAAE;QAC7FoG,cAAc,GAAG;UACfjG,IAAI,EAAEF,QAAQ,CAACE,IAAI;UACnBC,KAAK,EAAEH,QAAQ,CAACG,KAAK;UACrBI,KAAK,EAAE,IAAI;UACX6F,YAAY,EAAEpG,QAAQ,CAACI,OAAO;UAC9BiG,YAAY,EAAErG,QAAQ,CAACK,OAAO;UAC9BkI,QAAQ,EAAEvI,QAAQ,CAACS,OAAO;UAC1B+H,aAAa,EAAExI,QAAQ,CAACe,YAAY,KAAK,KAAK;UAC9C0H,aAAa,EAAEzI,QAAQ,CAACgB,YAAY;UAAG;UACvC0H,eAAe,EAAE1I,QAAQ,CAACiB,cAAc,IAAI,IAAI;UAChD0H,iBAAiB,EAAE3I,QAAQ,CAACkB,gBAAgB,IAAI,IAAI;UACpD4F,YAAY,EAAE9G,QAAQ,CAACmB,WAAW,IAAI,IAAI;UAC1CyH,cAAc,EAAE,IAAI;UAAG;UACvB;UACA7B,gBAAgB,EAAE,CAAC,MAAM;YACvB,IAAI,CAAC/G,QAAQ,CAACqB,eAAe,IAAIrB,QAAQ,CAACqB,eAAe,CAACiD,MAAM,KAAK,CAAC,EAAE;cACtE,OAAO,IAAI;YACb;YACA;YACA,MAAM0C,aAAa,GAAGhH,QAAQ,CAACqB,eAAe,CAACyD,MAAM,CAACmC,CAAC,IAAI,CAAC,CAACA,CAAC,CAACC,GAAG,CAAC;YACnE,IAAIF,aAAa,CAAC1C,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;YAC3C,OAAO0C,aAAa,CAACG,GAAG,CAACF,CAAC,KAAK;cAC7BG,QAAQ,EAAEH,CAAC,CAACG,QAAQ;cACpBF,GAAG,EAAED,CAAC,CAACC,GAAG;cACVG,IAAI,EAAEJ,CAAC,CAACI,IAAI;cACZC,IAAI,EAAEL,CAAC,CAACK,IAAI,IAAIL,CAAC,CAACC,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG;YACrD,CAAC,CAAC,CAAC;UACL,CAAC,EAAE;UACH;QACF,CAAC;MACH;MACA;MAAA,KACK,IAAI7H,gBAAgB,CAACE,WAAW,KAAK,SAAS,IAAIF,gBAAgB,CAACG,WAAW,KAAK,YAAY,EAAE;QACpGoG,cAAc,GAAG;UACfjG,IAAI,EAAEnB,aAAa,CAACiB,QAAQ,CAACE,IAAI,CAAC;UAClCC,KAAK,EAAEpB,aAAa,CAACiB,QAAQ,CAACG,KAAK,CAAC;UACpCI,KAAK,EAAE,IAAI;UACX6F,YAAY,EAAErH,aAAa,CAACiB,QAAQ,CAACI,OAAO,CAAC;UAC7CiG,YAAY,EAAEtH,aAAa,CAACiB,QAAQ,CAACK,OAAO,CAAC;UAC7CkI,QAAQ,EAAEvI,QAAQ,CAACS,OAAO;UAC1B+H,aAAa,EAAExI,QAAQ,CAACe,YAAY,KAAK,KAAK;UAC9C0H,aAAa,EAAEzI,QAAQ,CAACgB,YAAY;UAAG;UACvC0H,eAAe,EAAE1I,QAAQ,CAACiB,cAAc,IAAI,IAAI;UAChD0H,iBAAiB,EAAE3I,QAAQ,CAACkB,gBAAgB,IAAI,IAAI;UACpD4F,YAAY,EAAE9G,QAAQ,CAACmB,WAAW,IAAI,IAAI;UAC1C;UACA4F,gBAAgB,EAAE,CAAC,MAAM;YACvB,IAAI,CAAC/G,QAAQ,CAACqB,eAAe,IAAIrB,QAAQ,CAACqB,eAAe,CAACiD,MAAM,KAAK,CAAC,EAAE;cACtE,OAAO,IAAI;YACb;YACA;YACA,MAAM0C,aAAa,GAAGhH,QAAQ,CAACqB,eAAe,CAACyD,MAAM,CAACmC,CAAC,IAAI,CAAC,CAACA,CAAC,CAACC,GAAG,CAAC;YACnE,IAAIF,aAAa,CAAC1C,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;YAC3C,OAAO0C,aAAa,CAACG,GAAG,CAACF,CAAC,KAAK;cAC7BG,QAAQ,EAAEH,CAAC,CAACG,QAAQ;cACpBF,GAAG,EAAED,CAAC,CAACC,GAAG;cACVG,IAAI,EAAEJ,CAAC,CAACI,IAAI;cACZC,IAAI,EAAEL,CAAC,CAACK,IAAI,IAAIL,CAAC,CAACC,GAAG,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG;YACrD,CAAC,CAAC,CAAC;UACL,CAAC,EAAE;UACH;QACF,CAAC;MACH;;MAEA;;MAEA,MAAM;QAAEoB,IAAI;QAAEC;MAAM,CAAC,GAAG,MAAMpK,QAAQ,CACnCqK,IAAI,CAAC7C,SAAS,CAAC,CACf8C,MAAM,CAAC,CAAC7C,cAAc,CAAC,CAAC,CACxB8C,MAAM,CAAC,CAAC;MAGX,IAAIH,KAAK,EAAE;QACT1D,OAAO,CAAC0D,KAAK,CAAC,yBAAyB,EAAE;UACvCjD,OAAO,EAAEiD,KAAK,CAACjD,OAAO;UACtBqD,OAAO,EAAEJ,KAAK,CAACI,OAAO;UACtBC,IAAI,EAAEL,KAAK,CAACK,IAAI;UAChBC,IAAI,EAAEN,KAAK,CAACM;QACd,CAAC,CAAC;QACF,MAAMN,KAAK;MACb;MAEA1D,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEwD,IAAI,CAAC;;MAE3C;MACA;MACA,MAAM7B,aAAa,GAAG,EAAAhB,qBAAA,GAAAhG,QAAQ,CAACqB,eAAe,cAAA2E,qBAAA,uBAAxBA,qBAAA,CAA0BlB,MAAM,CAACuE,IAAI,IACxDA,IAAI,CAACC,cAAc,KAAK,IAAI,IAAMD,IAAI,CAACnC,GAAG,IAAI,CAACmC,IAAI,CAACE,OACvD,CAAC,KAAI,EAAE;MACPnE,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAE2B,aAAa,CAAC1C,MAAM,CAAC;MAC/Ec,OAAO,CAACC,GAAG,CAAC,sDAAsD,EAAE2B,aAAa,CAAC;;MAElF;MACA;MACA,MAAMwC,eAAe,GAAG,MAAMtK,gBAAgB,CAAC,CAAC,CAAC,EAAE;;MAEnD;MACAkG,OAAO,CAACC,GAAG,CAAC,mEAAmE,EAAE;QAC/EoE,gBAAgB,EAAE,CAAC,CAACzC,aAAa;QACjC0C,mBAAmB,EAAE1C,aAAa,GAAGA,aAAa,CAAC1C,MAAM,GAAG,CAAC;QAC7D0C,aAAa,EAAEA;MACjB,CAAC,CAAC;MAEFjF,mBAAmB,CAAC;QAClByH,eAAe;QACf1J,WAAW,EAAEF,gBAAgB,CAACE,WAAW;QACzCC,WAAW,EAAEH,gBAAgB,CAACG,WAAW;QACzC4J,aAAa,EAAE;UACb,GAAG3J,QAAQ;UACXF,WAAW,EAAEF,gBAAgB,CAACE,WAAW;UACzCC,WAAW,EAAEH,gBAAgB,CAACG;QAChC,CAAC;QACDiH,aAAa,EAAEA;MACjB,CAAC,CAAC;MAEFrH,cAAc,CAAC,cAAc,CAAC;IAEhC,CAAC,CAAC,OAAOmJ,KAAK,EAAE;MACd1D,OAAO,CAAC0D,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC1D,OAAO,CAAC0D,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACjD,OAAO,CAAC;MAC9ClE,gBAAgB,CAAC;QACfC,IAAI,EAAE,OAAO;QACbC,IAAI,EAAE,UAAUiH,KAAK,CAACjD,OAAO,IAAI,+DAA+D;MAClG,CAAC,CAAC;IACJ,CAAC,SAAS;MACRpE,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;;EAED;EACA,MAAMmI,mBAAmB,GAAGA,CAAA,KAAM;IAChCC,SAAS,CAAC,CAAC;IACX9H,mBAAmB,CAAC,IAAI,CAAC;EAC3B,CAAC;;EAED;EACA,MAAM8H,SAAS,GAAGA,CAAA,KAAM;IACtBlK,cAAc,CAAC,WAAW,CAAC;IAC3BE,mBAAmB,CAAC;MAClBC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE;IACf,CAAC,CAAC;IACFE,WAAW,CAAC;MACVC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,kBAAkB,EAAE,EAAE;MACtBC,qBAAqB,EAAE,EAAE;MACzBC,iBAAiB,EAAE,KAAK;MACxBC,cAAc,EAAE,EAAE;MAClBC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE,EAAE;MAClBC,gBAAgB,EAAE,EAAE;MACpBC,WAAW,EAAE,EAAE;MACfC,mBAAmB,EAAE,EAAE;MACvBC,eAAe,EAAE;IACnB,CAAC,CAAC;IACFE,SAAS,CAAC,CAAC,CAAC,CAAC;IACbI,gBAAgB,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;EAC1C,CAAC;;EAED;EACA,MAAMiI,UAAU,GAAGA,CAAA,KAAM;IACvBnK,cAAc,CAAC,WAAW,CAAC;IAC3B4B,SAAS,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMwI,mBAAmB,GAAGA,CAAA,kBAC1BxK,OAAA;IAAKyK,SAAS,EAAC,qBAAqB;IAAAC,QAAA,eAClC1K,OAAA;MAAM2K,QAAQ,EAAE5E,qBAAsB;MAAA2E,QAAA,gBACpC1K,OAAA;QAAKyK,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B1K,OAAA;UAAGyK,SAAS,EAAC,UAAU;UAAAC,QAAA,GAAC,oCAAkC,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACjG/K,OAAA;UAAKyK,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1B1K,OAAA;YAAKyK,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B1K,OAAA;cACEqC,IAAI,EAAC,OAAO;cACZ2I,EAAE,EAAC,OAAO;cACVrK,IAAI,EAAC,aAAa;cAClB6D,KAAK,EAAC,UAAU;cAChByG,OAAO,EAAE5K,gBAAgB,CAACE,WAAW,KAAK,UAAW;cACrD2K,QAAQ,EAAGlF,CAAC,IAAK1F,mBAAmB,CAAC4E,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE3E,WAAW,EAAEyF,CAAC,CAACmF,MAAM,CAAC3G;cAAM,CAAC,CAAC;YAAE;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F,CAAC,eACF/K,OAAA;cAAOoL,OAAO,EAAC,OAAO;cAAAV,QAAA,EAAC;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eACN/K,OAAA;YAAKyK,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B1K,OAAA;cACEqC,IAAI,EAAC,OAAO;cACZ2I,EAAE,EAAC,SAAS;cACZrK,IAAI,EAAC,aAAa;cAClB6D,KAAK,EAAC,SAAS;cACfyG,OAAO,EAAE5K,gBAAgB,CAACE,WAAW,KAAK,SAAU;cACpD2K,QAAQ,EAAGlF,CAAC,IAAK1F,mBAAmB,CAAC4E,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE3E,WAAW,EAAEyF,CAAC,CAACmF,MAAM,CAAC3G;cAAM,CAAC,CAAC;YAAE;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F,CAAC,eACF/K,OAAA;cAAOoL,OAAO,EAAC,SAAS;cAAAV,QAAA,EAAC;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EACLhJ,MAAM,CAACxB,WAAW,iBACjBP,OAAA;UAAMyK,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAE3I,MAAM,CAACxB;QAAW;UAAAqK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAC3D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B1K,OAAA;UAAGyK,SAAS,EAAC,UAAU;UAAAC,QAAA,GAAC,yBAAuB,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACtF/K,OAAA;UAAKyK,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1B1K,OAAA;YAAKyK,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B1K,OAAA;cACEqC,IAAI,EAAC,OAAO;cACZ2I,EAAE,EAAC,KAAK;cACRrK,IAAI,EAAC,aAAa;cAClB6D,KAAK,EAAC,KAAK;cACXyG,OAAO,EAAE5K,gBAAgB,CAACG,WAAW,KAAK,KAAM;cAChD0K,QAAQ,EAAGlF,CAAC,IAAK1F,mBAAmB,CAAC4E,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE1E,WAAW,EAAEwF,CAAC,CAACmF,MAAM,CAAC3G;cAAM,CAAC,CAAC;YAAE;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F,CAAC,eACF/K,OAAA;cAAOoL,OAAO,EAAC,KAAK;cAAAV,QAAA,EAAC;YAAG;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eACN/K,OAAA;YAAKyK,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B1K,OAAA;cACEqC,IAAI,EAAC,OAAO;cACZ2I,EAAE,EAAC,WAAW;cACdrK,IAAI,EAAC,aAAa;cAClB6D,KAAK,EAAC,YAAY;cAClByG,OAAO,EAAE5K,gBAAgB,CAACG,WAAW,KAAK,YAAa;cACvD0K,QAAQ,EAAGlF,CAAC,IAAK1F,mBAAmB,CAAC4E,IAAI,KAAK;gBAAE,GAAGA,IAAI;gBAAE1E,WAAW,EAAEwF,CAAC,CAACmF,MAAM,CAAC3G;cAAM,CAAC,CAAC;YAAE;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1F,CAAC,eACF/K,OAAA;cAAOoL,OAAO,EAAC,WAAW;cAAAV,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EACLhJ,MAAM,CAACvB,WAAW,iBACjBR,OAAA;UAAMyK,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAE3I,MAAM,CAACvB;QAAW;UAAAoK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAC3D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN/K,OAAA;QAAQqC,IAAI,EAAC,QAAQ;QAACoI,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAC;MAElD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CACN;;EAED;EACA,MAAMM,eAAe,GAAGA,CAAA,kBACtBrL,OAAA;IAAM2K,QAAQ,EAAEzE,gBAAiB;IAACuE,SAAS,EAAC,6BAA6B;IAAAC,QAAA,gBACvE1K,OAAA;MAAKyK,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC1B1K,OAAA;QAAIyK,SAAS,EAAC,YAAY;QAAAC,QAAA,GAAC,WAChB,EAACrK,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,OAAO,GAAG,SAAS;MAAA;QAAAoK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EAEL5I,aAAa,CAACG,IAAI,iBACjBtC,OAAA;MAAKyK,SAAS,EAAE,kBAAkBtI,aAAa,CAACE,IAAI,EAAG;MAAAqI,QAAA,EACpDvI,aAAa,CAACG;IAAI;MAAAsI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChB,CACN,eAGD/K,OAAA;MAAKyK,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,MAAM;UAAAV,QAAA,GAAC,OAAK,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtE/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEqC,IAAI,EAAC,MAAM;YACX2I,EAAE,EAAC,MAAM;YACTM,WAAW,EAAC,gBAAgB;YAC5B9G,KAAK,EAAE/D,QAAQ,CAACE,IAAK;YACrBuK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,MAAM,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC3DiG,SAAS,EAAE1I,MAAM,CAACpB,IAAI,GAAG,iBAAiB,GAAG,EAAG;YAChD4K,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDhJ,MAAM,CAACpB,IAAI,iBAAIX,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACpB;UAAI;YAAAiK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,OAAO;UAAAV,QAAA,GAAC,QAAM,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxE/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEqC,IAAI,EAAC,OAAO;YACZ2I,EAAE,EAAC,OAAO;YACVM,WAAW,EAAC,gBAAgB;YAC5B9G,KAAK,EAAE/D,QAAQ,CAACG,KAAM;YACtBsK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,OAAO,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC5DiG,SAAS,EAAE1I,MAAM,CAACnB,KAAK,GAAG,iBAAiB,GAAG,EAAG;YACjD2K,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDhJ,MAAM,CAACnB,KAAK,iBAAIZ,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACnB;UAAK;YAAAgK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEH,CAAC,eAGN/K,OAAA;MAAKyK,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,SAAS;UAAAV,QAAA,GAAC,eAAa,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjF/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEqC,IAAI,EAAC,MAAM;YACX2I,EAAE,EAAC,SAAS;YACZM,WAAW,EAAC,cAAc;YAC1B9G,KAAK,EAAE/D,QAAQ,CAACI,OAAQ;YACxBqK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC9DiG,SAAS,EAAE1I,MAAM,CAAClB,OAAO,GAAG,iBAAiB,GAAG,EAAG;YACnD0K,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDhJ,MAAM,CAAClB,OAAO,iBAAIb,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAAClB;UAAO;YAAA+J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,SAAS;UAAAV,QAAA,GAAC,eAAa,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjF/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEqC,IAAI,EAAC,MAAM;YACX2I,EAAE,EAAC,SAAS;YACZM,WAAW,EAAC,cAAc;YAC1B9G,KAAK,EAAE/D,QAAQ,CAACK,OAAQ;YACxBoK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC9DiG,SAAS,EAAE1I,MAAM,CAACjB,OAAO,GAAG,iBAAiB,GAAG,EAAG;YACnDyK,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDhJ,MAAM,CAACjB,OAAO,iBAAId,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACjB;UAAO;YAAA8J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,OAAO;UAAAV,QAAA,GAAC,gBAAc,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChF/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEgL,EAAE,EAAC,OAAO;YACVxG,KAAK,EAAE/D,QAAQ,CAACM,KAAM;YACtBmK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,OAAO,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC5DiG,SAAS,EAAE1I,MAAM,CAAChB,KAAK,GAAG,iBAAiB,GAAG,EAAG;YACjDwK,QAAQ;YAAAb,QAAA,EAEPnG,MAAM,CAACqD,GAAG,CAAC7G,KAAK,iBACff,OAAA;cAA0BwE,KAAK,EAAEzD,KAAK,CAACyD,KAAM;cAAAkG,QAAA,EAAE3J,KAAK,CAAC0D;YAAK,GAA7C1D,KAAK,CAACyD,KAAK;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAA2C,CACpE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,EACRhJ,MAAM,CAAChB,KAAK,iBAAIf,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAAChB;UAAK;YAAA6J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN/K,OAAA;MAAKyK,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAA0K,QAAA,GAAO,yCAAuC,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzF/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YAAKyK,SAAS,EAAC,oBAAoB;YAAAC,QAAA,gBACjC1K,OAAA;cAAKyK,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC1K,OAAA;gBACEqC,IAAI,EAAC,OAAO;gBACZ2I,EAAE,EAAC,aAAa;gBAChBrK,IAAI,EAAC,UAAU;gBACf6D,KAAK,EAAC,KAAK;gBACXyG,OAAO,EAAExK,QAAQ,CAACQ,QAAQ,KAAK,KAAM;gBACrCiK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,UAAU,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK;cAAE;gBAAAoG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eACF/K,OAAA;gBAAOoL,OAAO,EAAC,aAAa;gBAAAV,QAAA,EAAC;cAAG;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC,eACN/K,OAAA;cAAKyK,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC1K,OAAA;gBACEqC,IAAI,EAAC,OAAO;gBACZ2I,EAAE,EAAC,YAAY;gBACfrK,IAAI,EAAC,UAAU;gBACf6D,KAAK,EAAC,IAAI;gBACVyG,OAAO,EAAExK,QAAQ,CAACQ,QAAQ,KAAK,IAAK;gBACpCiK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,UAAU,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK;cAAE;gBAAAoG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eACF/K,OAAA;gBAAOoL,OAAO,EAAC,YAAY;gBAAAV,QAAA,EAAC;cAAE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EACLhJ,MAAM,CAACd,QAAQ,iBAAIjB,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACd;UAAQ;YAAA2J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAOoL,OAAO,EAAC,SAAS;UAAAV,QAAA,GAAC,WAAS,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC7E/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YACEqC,IAAI,EAAC,MAAM;YACX2I,EAAE,EAAC,SAAS;YACZxG,KAAK,EAAE/D,QAAQ,CAACS,OAAQ;YACxBgK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;YAC9DiG,SAAS,EAAE1I,MAAM,CAACb,OAAO,GAAG,iBAAiB,GAAG,EAAG;YACnDqK,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,EACDhJ,MAAM,CAACb,OAAO,iBAAIlB,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACb;UAAO;YAAA0J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvB1K,OAAA;UAAA0K,QAAA,GAAO,eAAa,eAAA1K,OAAA;YAAMyK,SAAS,EAAC,UAAU;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC/D/K,OAAA;UAAKyK,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B1K,OAAA;YAAKyK,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpC1K,OAAA;cAAKyK,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnC1K,OAAA;gBACEqC,IAAI,EAAC,UAAU;gBACf2I,EAAE,EAAC,SAAS;gBACZC,OAAO,EAAExK,QAAQ,CAACU,WAAW,CAACmE,QAAQ,CAAC,SAAS,CAAE;gBAClD4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,aAAa,EAAE,SAAS;cAAE;gBAAAyF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChE,CAAC,eACF/K,OAAA;gBAAOoL,OAAO,EAAC,SAAS;gBAAAV,QAAA,EAAC;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC,eACN/K,OAAA;cAAKyK,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnC1K,OAAA;gBACEqC,IAAI,EAAC,UAAU;gBACf2I,EAAE,EAAC,QAAQ;gBACXC,OAAO,EAAExK,QAAQ,CAACU,WAAW,CAACmE,QAAQ,CAAC,QAAQ,CAAE;gBACjD4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,aAAa,EAAE,QAAQ;cAAE;gBAAAyF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/D,CAAC,eACF/K,OAAA;gBAAOoL,OAAO,EAAC,QAAQ;gBAAAV,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC,eACN/K,OAAA;cAAKyK,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnC1K,OAAA;gBACEqC,IAAI,EAAC,UAAU;gBACf2I,EAAE,EAAC,OAAO;gBACVC,OAAO,EAAExK,QAAQ,CAACU,WAAW,CAACmE,QAAQ,CAAC,OAAO,CAAE;gBAChD4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,aAAa,EAAE,OAAO;cAAE;gBAAAyF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9D,CAAC,eACF/K,OAAA;gBAAOoL,OAAO,EAAC,OAAO;gBAAAV,QAAA,EAAC;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EACLhJ,MAAM,CAACZ,WAAW,iBAAInB,OAAA;YAAMyK,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE3I,MAAM,CAACZ;UAAW;YAAAyJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEH,CAAC,eAGN/K,OAAA;MAAKyK,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBACjD1K,OAAA;QAAKyK,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAmB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACzD/K,OAAA;QAAKyK,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBACxC1K,OAAA;UAAKyK,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1K,OAAA;YACEqC,IAAI,EAAC,UAAU;YACf2I,EAAE,EAAC,SAAS;YACZC,OAAO,EAAExK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,yBAAyB,CAAE;YACzE4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,oBAAoB,EAAE,yBAAyB;UAAE;YAAAyF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvF,CAAC,eACF/K,OAAA;YAAOoL,OAAO,EAAC,SAAS;YAAAV,QAAA,EAAC;UAAuB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,EACLtK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,yBAAyB,CAAC,iBAC9DtF,OAAA;UAAKyK,SAAS,EAAC,kCAAkC;UAACe,KAAK,EAAE;YAAEC,SAAS,EAAE,KAAK;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAhB,QAAA,eACjG1K,OAAA;YAAKyK,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvB1K,OAAA;cAAOoL,OAAO,EAAC,uBAAuB;cAAAV,QAAA,GAAC,uBAAqB,eAAA1K,OAAA;gBAAMyK,SAAS,EAAC,UAAU;gBAAAC,QAAA,EAAC;cAAC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvG/K,OAAA;cAAKyK,SAAS,EAAC,eAAe;cAAAC,QAAA,gBAC5B1K,OAAA;gBACEqC,IAAI,EAAC,MAAM;gBACX2I,EAAE,EAAC,uBAAuB;gBAC1BxG,KAAK,EAAE/D,QAAQ,CAACY,qBAAsB;gBACtC6J,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,uBAAuB,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;gBAC5EiG,SAAS,EAAE1I,MAAM,CAACV,qBAAqB,GAAG,iBAAiB,GAAG,EAAG;gBACjEkK,QAAQ;cAAA;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,EACDhJ,MAAM,CAACV,qBAAqB,iBAAIrB,OAAA;gBAAMyK,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAE3I,MAAM,CAACV;cAAqB;gBAAAuJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,eACD/K,OAAA;UAAKyK,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1K,OAAA;YACEqC,IAAI,EAAC,UAAU;YACf2I,EAAE,EAAC,MAAM;YACTC,OAAO,EAAExK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAE;YAClE4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,oBAAoB,EAAE,kBAAkB;UAAE;YAAAyF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChF,CAAC,eACF/K,OAAA;YAAOoL,OAAO,EAAC,MAAM;YAAAV,QAAA,EAAC;UAAgB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,EACLtK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,iBACvDtF,OAAA;UAAKwL,KAAK,EAAE;YAAEG,KAAK,EAAE,MAAM;YAAEF,SAAS,EAAE,KAAK;YAAEG,QAAQ,EAAE,MAAM;YAAEC,KAAK,EAAE,MAAM;YAAEC,SAAS,EAAE;UAAS,CAAE;UAAApB,QAAA,EAAC;QAEvG;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN,EACAtK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,kBAAkB,CAAC,iBACvDtF,OAAA;UAAKyK,SAAS,EAAC,kCAAkC;UAACe,KAAK,EAAE;YAAEC,SAAS,EAAE,KAAK;YAAEC,YAAY,EAAE;UAAM,CAAE;UAAAhB,QAAA,gBACjG1K,OAAA;YAAKyK,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvB1K,OAAA;cAAA0K,QAAA,EAAO;YAAkB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjC/K,OAAA;cAAKyK,SAAS,EAAC,eAAe;cAAAC,QAAA,eAC5B1K,OAAA;gBAAKyK,SAAS,EAAC,kDAAkD;gBAAAC,QAAA,gBAC/D1K,OAAA;kBACEqC,IAAI,EAAC,UAAU;kBACf2I,EAAE,EAAC,mBAAmB;kBACtBC,OAAO,EAAExK,QAAQ,CAACa,iBAAkB;kBACpC4J,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,mBAAmB,EAAEgB,CAAC,CAACmF,MAAM,CAACF,OAAO;gBAAE;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3E,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,mBAAmB;kBAACI,KAAK,EAAE;oBAAEO,UAAU,EAAE,KAAK;oBAAEH,QAAQ,EAAE,MAAM;oBAAEC,KAAK,EAAE;kBAAO,CAAE;kBAAAnB,QAAA,EAAC;gBAElG;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,EAGLtK,QAAQ,CAACa,iBAAiB,iBACzBtB,OAAA;YAAKyK,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvB1K,OAAA;cAAOoL,OAAO,EAAC,gBAAgB;cAAAV,QAAA,EAAC;YAAoB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC5D/K,OAAA;cAAKyK,SAAS,EAAC,eAAe;cAAAC,QAAA,eAC5B1K,OAAA;gBACEqC,IAAI,EAAC,QAAQ;gBACb2I,EAAE,EAAC,gBAAgB;gBACnBxG,KAAK,EAAE/D,QAAQ,CAACc,cAAe;gBAC/B2J,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,gBAAgB,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;gBACrE8G,WAAW,EAAC,4BAA4B;gBACxCU,GAAG,EAAC;cAAG;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CACN,eACD/K,OAAA;UAAKyK,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC1K,OAAA;YACEqC,IAAI,EAAC,UAAU;YACf2I,EAAE,EAAC,UAAU;YACbC,OAAO,EAAExK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,eAAe,CAAE;YAC/D4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,oBAAoB,EAAE,eAAe;UAAE;YAAAyF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7E,CAAC,eACF/K,OAAA;YAAOoL,OAAO,EAAC,UAAU;YAAAV,QAAA,EAAC;UAAa;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,EACLtK,QAAQ,CAACW,kBAAkB,CAACkE,QAAQ,CAAC,eAAe,CAAC,iBACpDtF,OAAA;UAAKwL,KAAK,EAAE;YAAEG,KAAK,EAAE,MAAM;YAAEF,SAAS,EAAE,KAAK;YAAEG,QAAQ,EAAE,MAAM;YAAEC,KAAK,EAAE,SAAS;YAAEI,UAAU,EAAE,KAAK;YAAEH,SAAS,EAAE;UAAS,CAAE;UAAApB,QAAA,EAAC;QAE7H;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAIN/K,OAAA;MAAKyK,SAAS,EAAC,oCAAoC;MAAAC,QAAA,gBACjD1K,OAAA;QAAKyK,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACrD/K,OAAA;QACEgL,EAAE,EAAC,qBAAqB;QACxBM,WAAW,EAAC,gGAAgG;QAC5G9G,KAAK,EAAE/D,QAAQ,CAACoB,mBAAoB;QACpCqJ,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,qBAAqB,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;QAC1E0H,IAAI,EAAC,GAAG;QACRV,KAAK,EAAE;UAAEG,KAAK,EAAE;QAAO;MAAE;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAGN/K,OAAA;MAAKyK,SAAS,EAAC,wDAAwD;MAAAC,QAAA,gBACrE1K,OAAA;QAAKyK,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAClD/K,OAAA,CAACZ,qBAAqB;QACpB+M,KAAK,EAAE1L,QAAQ,CAACqB,eAAe,IAAI,EAAG;QACtCsK,aAAa,EAAGD,KAAK,IAAKnH,iBAAiB,CAAC,iBAAiB,EAAEmH,KAAK,CAAE;QACtEE,QAAQ,EAAEpK,YAAa;QACvBqK,QAAQ,EAAE,GAAI;QACdC,QAAQ,EAAElM,gBAAgB,CAACE,WAAW,KAAK,UAAU,GAClDF,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,UAAU,GAAG,YAAY,GACzEH,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,eAAe,GAAG,iBACpE;QACDgM,WAAW,EAAE/L,QAAQ,CAACI,OAAO,IAAI,iBAAkB;QACnD4L,WAAW,EAAEhM,QAAQ,CAACK,OAAO,IAAI;MAAkB;QAAA8J,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN/K,OAAA;MAAKyK,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B1K,OAAA;QAAQqC,IAAI,EAAC,QAAQ;QAACoI,SAAS,EAAC,mBAAmB;QAACiC,OAAO,EAAEnC,UAAW;QAAAG,QAAA,EAAC;MAEzE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT/K,OAAA;QAAQqC,IAAI,EAAC,QAAQ;QAACoI,SAAS,EAAC,iBAAiB;QAAC4B,QAAQ,EAAEpK,YAAa;QAAAyI,QAAA,EACtEzI,YAAY,GAAG,eAAe,GAAG;MAAgB;QAAA2I,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EACLnI,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACgD,MAAM,GAAG,CAAC,iBAC7B/E,OAAA;MAAKwL,KAAK,EAAE;QAAEM,SAAS,EAAE,QAAQ;QAAEL,SAAS,EAAE,MAAM;QAAEI,KAAK,EAAE,SAAS;QAAED,QAAQ,EAAE;MAAO,CAAE;MAAAlB,QAAA,EAAC;IAE5F;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CACP;;EAED;EACA,MAAM4B,iBAAiB,GAAGA,CAAA;IAAA,IAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IAAA,oBACxBhN,OAAA;MAAM2K,QAAQ,EAAEzE,gBAAiB;MAACuE,SAAS,EAAC,6BAA6B;MAAAC,QAAA,gBACvE1K,OAAA;QAAKyK,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1B1K,OAAA;UAAIyK,SAAS,EAAC,YAAY;UAAAC,QAAA,GAAC,UACjB,EAACrK,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,OAAO,GAAG,SAAS;QAAA;UAAAoK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1E;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,EAEL5I,aAAa,CAACG,IAAI,iBACjBtC,OAAA;QAAKyK,SAAS,EAAE,kBAAkBtI,aAAa,CAACE,IAAI,EAAG;QAAAqI,QAAA,EACpDvI,aAAa,CAACG;MAAI;QAAAsI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChB,CACN,eAGD/K,OAAA;QAAKyK,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,MAAM;YAAAV,QAAA,GAAC,OAAK,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtE/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,MAAM;cACTM,WAAW,EAAC,gBAAgB;cAC5B9G,KAAK,EAAE/D,QAAQ,CAACE,IAAK;cACrBuK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,MAAM,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cAC3DiG,SAAS,EAAE1I,MAAM,CAACpB,IAAI,GAAG,iBAAiB,GAAG,EAAG;cAChD4K,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACDhJ,MAAM,CAACpB,IAAI,iBAAIX,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACpB;YAAI;cAAAiK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN/K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,OAAO;YAAAV,QAAA,GAAC,QAAM,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxE/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,OAAO;cACZ2I,EAAE,EAAC,OAAO;cACVM,WAAW,EAAC,gBAAgB;cAC5B9G,KAAK,EAAE/D,QAAQ,CAACG,KAAM;cACtBsK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,OAAO,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cAC5DiG,SAAS,EAAE1I,MAAM,CAACnB,KAAK,GAAG,iBAAiB,GAAG,EAAG;cACjD2K,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACDhJ,MAAM,CAACnB,KAAK,iBAAIZ,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACnB;YAAK;cAAAgK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN/K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,SAAS;YAAAV,QAAA,GAAC,eAAa,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjF/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,SAAS;cACZM,WAAW,EAAC,cAAc;cAC1B9G,KAAK,EAAE/D,QAAQ,CAACI,OAAQ;cACxBqK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cAC9DiG,SAAS,EAAE1I,MAAM,CAAClB,OAAO,GAAG,iBAAiB,GAAG,EAAG;cACnD0K,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACDhJ,MAAM,CAAClB,OAAO,iBAAIb,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAAClB;YAAO;cAAA+J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN/K,OAAA;QAAKyK,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,SAAS;YAAAV,QAAA,GAAC,eAAa,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACjF/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,SAAS;cACZM,WAAW,EAAC,cAAc;cAC1B9G,KAAK,EAAE/D,QAAQ,CAACK,OAAQ;cACxBoK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cAC9DiG,SAAS,EAAE1I,MAAM,CAACjB,OAAO,GAAG,iBAAiB,GAAG,EAAG;cACnDyK,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACDhJ,MAAM,CAACjB,OAAO,iBAAId,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACjB;YAAO;cAAA8J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN/K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,SAAS;YAAAV,QAAA,GAAC,WAAS,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7E/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,SAAS;cACZxG,KAAK,EAAE/D,QAAQ,CAACS,OAAQ;cACxBgK,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,SAAS,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cAC9DiG,SAAS,EAAE1I,MAAM,CAACb,OAAO,GAAG,iBAAiB,GAAG,EAAG;cACnDqK,QAAQ;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,EACDhJ,MAAM,CAACb,OAAO,iBAAIlB,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACb;YAAO;cAAA0J,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN/K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAA0K,QAAA,GAAO,uBAAqB,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvE/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cAAKyK,SAAS,EAAC,oBAAoB;cAAAC,QAAA,gBACjC1K,OAAA;gBAAKyK,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBAChC1K,OAAA;kBACEqC,IAAI,EAAC,OAAO;kBACZ2I,EAAE,EAAC,QAAQ;kBACXrK,IAAI,EAAC,cAAc;kBACnB6D,KAAK,EAAC,KAAK;kBACXyG,OAAO,EAAExK,QAAQ,CAACe,YAAY,KAAK,KAAM;kBACzC0J,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,cAAc,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK;gBAAE;kBAAAoG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpE,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,QAAQ;kBAAAV,QAAA,EAAC;gBAAG;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACN/K,OAAA;gBAAKyK,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,gBAChC1K,OAAA;kBACEqC,IAAI,EAAC,OAAO;kBACZ2I,EAAE,EAAC,OAAO;kBACVrK,IAAI,EAAC,cAAc;kBACnB6D,KAAK,EAAC,IAAI;kBACVyG,OAAO,EAAExK,QAAQ,CAACe,YAAY,KAAK,IAAK;kBACxC0J,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,cAAc,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK;gBAAE;kBAAAoG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACpE,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,OAAO;kBAAAV,QAAA,EAAC;gBAAE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EACLhJ,MAAM,CAACP,YAAY,iBAAIxB,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACP;YAAY;cAAAoJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN/K,OAAA;QAAKyK,SAAS,EAAC,cAAc;QAAAC,QAAA,eAC3B1K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAA0K,QAAA,GAAO,gBAAc,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChE/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cAAKyK,SAAS,EAAC,uBAAuB;cAACe,KAAK,EAAE;gBAAEyB,aAAa,EAAE,QAAQ;gBAAEC,GAAG,EAAE;cAAO,CAAE;cAAAxC,QAAA,gBACrF1K,OAAA;gBAAKyK,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnC1K,OAAA;kBACEqC,IAAI,EAAC,UAAU;kBACf2I,EAAE,EAAC,kBAAkB;kBACrBC,OAAO,GAAA2B,sBAAA,GAAEnM,QAAQ,CAACgB,YAAY,cAAAmL,sBAAA,uBAArBA,sBAAA,CAAuBtH,QAAQ,CAAC,oBAAoB,CAAE;kBAC/D4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,cAAc,EAAE,oBAAoB;gBAAE;kBAAAyF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5E,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,kBAAkB;kBAAAV,QAAA,EAAC;gBAAkB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzD,CAAC,eACN/K,OAAA;gBAAKyK,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnC1K,OAAA;kBACEqC,IAAI,EAAC,UAAU;kBACf2I,EAAE,EAAC,WAAW;kBACdC,OAAO,GAAA4B,sBAAA,GAAEpM,QAAQ,CAACgB,YAAY,cAAAoL,sBAAA,uBAArBA,sBAAA,CAAuBvH,QAAQ,CAAC,gDAAgD,CAAE;kBAC3F4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,cAAc,EAAE,gDAAgD;gBAAE;kBAAAyF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxG,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,WAAW;kBAAAV,QAAA,EAAC;gBAA8C;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9E,CAAC,eACN/K,OAAA;gBAAKyK,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnC1K,OAAA;kBACEqC,IAAI,EAAC,UAAU;kBACf2I,EAAE,EAAC,UAAU;kBACbC,OAAO,GAAA6B,sBAAA,GAAErM,QAAQ,CAACgB,YAAY,cAAAqL,sBAAA,uBAArBA,sBAAA,CAAuBxH,QAAQ,CAAC,2DAA2D,CAAE;kBACtG4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,cAAc,EAAE,2DAA2D;gBAAE;kBAAAyF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnH,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,UAAU;kBAAAV,QAAA,EAAC;gBAAyD;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC,eACN/K,OAAA;gBAAKyK,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,gBACnC1K,OAAA;kBACEqC,IAAI,EAAC,UAAU;kBACf2I,EAAE,EAAC,SAAS;kBACZC,OAAO,GAAA8B,sBAAA,GAAEtM,QAAQ,CAACgB,YAAY,cAAAsL,sBAAA,uBAArBA,sBAAA,CAAuBzH,QAAQ,CAAC,oEAAoE,CAAE;kBAC/G4F,QAAQ,EAAEA,CAAA,KAAM/F,oBAAoB,CAAC,cAAc,EAAE,oEAAoE;gBAAE;kBAAAyF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5H,CAAC,eACF/K,OAAA;kBAAOoL,OAAO,EAAC,SAAS;kBAAAV,QAAA,EAAC;gBAAkE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EACLhJ,MAAM,CAACN,YAAY,iBAAIzB,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACN;YAAY;cAAAmJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGL,EAAAiC,sBAAA,GAAAvM,QAAQ,CAACgB,YAAY,cAAAuL,sBAAA,uBAArBA,sBAAA,CAAuB1H,QAAQ,CAAC,oBAAoB,CAAC,kBACpDtF,OAAA;QAAKyK,SAAS,EAAC,kCAAkC;QAAAC,QAAA,gBAC/C1K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,gBAAgB;YAACI,KAAK,EAAE;cAAEI,QAAQ,EAAE;YAAO,CAAE;YAAAlB,QAAA,GAAC,kBAAgB,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxH/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,gBAAgB;cACnBM,WAAW,EAAC,0BAA0B;cACtC9G,KAAK,EAAE/D,QAAQ,CAACiB,cAAc,IAAI,EAAG;cACrCwJ,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,gBAAgB,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cACrEiG,SAAS,EAAE1I,MAAM,CAACL,cAAc,GAAG,iBAAiB,GAAG;YAAG;cAAAkJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CAAC,EACDhJ,MAAM,CAACL,cAAc,iBAAI1B,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACL;YAAc;cAAAkJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN/K,OAAA;UAAKyK,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB1K,OAAA;YAAOoL,OAAO,EAAC,kBAAkB;YAACI,KAAK,EAAE;cAAEI,QAAQ,EAAE;YAAO,CAAE;YAAAlB,QAAA,GAAC,oBAAkB,eAAA1K,OAAA;cAAMyK,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC5H/K,OAAA;YAAKyK,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B1K,OAAA;cACEqC,IAAI,EAAC,MAAM;cACX2I,EAAE,EAAC,kBAAkB;cACrBM,WAAW,EAAC,0BAA0B;cACtC9G,KAAK,EAAE/D,QAAQ,CAACkB,gBAAgB,IAAI,EAAG;cACvCuJ,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,kBAAkB,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;cACvEiG,SAAS,EAAE1I,MAAM,CAACJ,gBAAgB,GAAG,iBAAiB,GAAG;YAAG;cAAAiJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7D,CAAC,EACDhJ,MAAM,CAACJ,gBAAgB,iBAAI3B,OAAA;cAAMyK,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE3I,MAAM,CAACJ;YAAgB;cAAAiJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAGD/K,OAAA;QAAKyK,SAAS,EAAC,oCAAoC;QAAAC,QAAA,gBACjD1K,OAAA;UAAKyK,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAe;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACrD/K,OAAA;UACEgL,EAAE,EAAC,aAAa;UAChBM,WAAW,EAAC,+FAA+F;UAC3G9G,KAAK,EAAE/D,QAAQ,CAACmB,WAAW,IAAI,EAAG;UAClCsJ,QAAQ,EAAGlF,CAAC,IAAKhB,iBAAiB,CAAC,aAAa,EAAEgB,CAAC,CAACmF,MAAM,CAAC3G,KAAK,CAAE;UAClE0H,IAAI,EAAC,GAAG;UACRV,KAAK,EAAE;YAAEG,KAAK,EAAE;UAAO;QAAE;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAGN/K,OAAA;QAAKyK,SAAS,EAAC,wDAAwD;QAAAC,QAAA,gBACrE1K,OAAA;UAAKyK,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAY;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAClD/K,OAAA,CAACZ,qBAAqB;UACpB+M,KAAK,EAAE1L,QAAQ,CAACqB,eAAe,IAAI,EAAG;UACtCsK,aAAa,EAAGD,KAAK,IAAKnH,iBAAiB,CAAC,iBAAiB,EAAEmH,KAAK,CAAE;UACtEE,QAAQ,EAAEpK,YAAa;UACvBqK,QAAQ,EAAE,GAAI;UACdC,QAAQ,EAAElM,gBAAgB,CAACE,WAAW,KAAK,UAAU,GAClDF,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,UAAU,GAAG,YAAY,GACzEH,gBAAgB,CAACG,WAAW,KAAK,YAAY,GAAG,eAAe,GAAG,iBACpE;UACDgM,WAAW,EAAE/L,QAAQ,CAACI,OAAO,IAAI,iBAAkB;UACnD4L,WAAW,EAAEhM,QAAQ,CAACK,OAAO,IAAI;QAAkB;UAAA8J,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN/K,OAAA;QAAKyK,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B1K,OAAA;UAAQqC,IAAI,EAAC,QAAQ;UAACoI,SAAS,EAAC,mBAAmB;UAACiC,OAAO,EAAEnC,UAAW;UAAAG,QAAA,EAAC;QAEzE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT/K,OAAA;UAAQqC,IAAI,EAAC,QAAQ;UAACoI,SAAS,EAAC,iBAAiB;UAAC4B,QAAQ,EAAEpK,YAAa;UAAAyI,QAAA,EACtEzI,YAAY,GAAG,eAAe,GAAG;QAAgB;UAAA2I,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EACLnI,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACgD,MAAM,GAAG,CAAC,iBAC7B/E,OAAA;QAAKwL,KAAK,EAAE;UAAEM,SAAS,EAAE,QAAQ;UAAEL,SAAS,EAAE,MAAM;UAAEI,KAAK,EAAE,SAAS;UAAED,QAAQ,EAAE;QAAO,CAAE;QAAAlB,QAAA,EAAC;MAE5F;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG,CAAC;EAAA,CACR;;EAED;EACA,MAAMoC,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAI,CAAC5K,gBAAgB,EAAE,OAAO,IAAI;IAElC,MAAM6K,KAAK,GAAG7K,gBAAgB,CAAC/B,WAAW,KAAK,YAAY,GACvD,yBAAyB,GACzB,4BAA4B;IAEhC,MAAM8F,OAAO,GAAG,iCAAiC/D,gBAAgB,CAAChC,WAAW,IAAIgC,gBAAgB,CAAC/B,WAAW,KAAK,YAAY,GAAG,eAAe,GAAG,iBAAiB,6BAA6B;IAEjM,oBACER,OAAA,CAACV,gBAAgB;MACf8N,KAAK,EAAEA,KAAM;MACb9G,OAAO,EAAEA,OAAQ;MACjB2D,eAAe,EAAE1H,gBAAgB,CAAC0H,eAAgB;MAClDrD,cAAc,EAAErE,gBAAgB,CAAC6H,aAAc;MAC/C3C,aAAa,EAAElF,gBAAgB,CAACkF,aAAc;MAC9C4F,WAAW,EAAE,IAAK;MAClBC,eAAe,EAAEjD;IAAoB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC;EAEN,CAAC;;EAED;EACA,oBACE/K,OAAA,CAACT,iBAAiB;IAACgO,OAAO,EAAE,EAAG;IAAA7C,QAAA,eAC7B1K,OAAA;MAAKyK,SAAS,EAAC,2BAA2B;MAAAC,QAAA,GACvCvK,WAAW,KAAK,WAAW,IAAIqK,mBAAmB,CAAC,CAAC,EACpDrK,WAAW,KAAK,MAAM,IAAIE,gBAAgB,CAACE,WAAW,KAAK,UAAU,IAAI8K,eAAe,CAAC,CAAC,EAC1FlL,WAAW,KAAK,MAAM,IAAIE,gBAAgB,CAACE,WAAW,KAAK,SAAS,IAAIoM,iBAAiB,CAAC,CAAC,EAC3FxM,WAAW,KAAK,cAAc,IAAIgN,kBAAkB,CAAC,CAAC;IAAA;MAAAvC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAExB,CAAC;AAAC7K,EAAA,CApyCID,kBAAkB;AAAAuN,EAAA,GAAlBvN,kBAAkB;AAsyCxB,eAAeA,kBAAkB;AAAC,IAAAuN,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}